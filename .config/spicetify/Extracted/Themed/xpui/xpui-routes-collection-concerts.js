"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5835],{27651:(e,n,t)=>{t.d(n,{u:()=>p});var s=t(59496),a=t(84875),i=t.n(a),o=t(68045),c=t(93163),r=t(3357),l=t(4289);const d="FvfvGU3jvHRskUU9v9_8",m="Q9AlbZn2EGzy3MTWXa8X",v="mxmxS0y8LiwSs5nueKPT",u="GXxVAveNFStY3pBI_NO4",h="eHcXC2s97InYP7rMNT0H";var g=t(4637);const p=(0,s.memo)((function(e){const{children:n,message:t,title:s,linkTitle:a,linkTo:p,onClick:x,renderInline:j=!1}=e,{isXSOnly:N,isSMOnly:f}=(0,r.e)(),b=N||f;return(0,g.jsxs)("section",{className:i()(d,{[m]:j}),children:[n,(0,g.jsx)(o.D,{as:"h1",variant:b?"cello":"alto",className:u,children:s}),(0,g.jsx)(o.D,{variant:b?"mesto":"ballad",className:h,children:t}),a&&(p||x)&&(0,g.jsx)(c.D,{colorSet:"invertedLight",className:v,href:p,onClick:x,component:l.Z,children:a})]})}))},52101:(e,n,t)=>{t.d(n,{Z:()=>f});var s=t(59496),a=t(68045),i=t(34194),o=t(70883),c=t(18486),r=t(22005),l=t(76010),d=t(10271);const m="MUiWCNTfb6FcSwVPvQ1V",v="UAk3bMhekwJTV_wIyfsT",u="X9w6LPfKsZHMCs38sVIQ",h="NXn5KjeUOjLGlAfS1Gao",g="N0wgFMDDvCiby4QB5kLJ",p="nloNe2BLRHjz9dxlwfLU",x="JzXND83mXvcEuntCNR34",j="GR08E4L_rOGljyQQX30R";var N=t(4637);const f=(0,s.memo)((e=>{const{concert:n,isVirtual:t,onClick:s}=e,{venue:f,location:b}=n,k=n.artists[0],y=(0,l.CH)(n.startDate.localDate);return(0,N.jsxs)(o.Link,{to:`/concert/${n.id}`,className:m,onClick:s,children:[k.imageUri&&(0,N.jsx)(c.Z,{children:(0,N.jsx)("div",{role:"img",className:j,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${k.imageUri})`}})}),(0,N.jsx)("time",{className:v,dateTime:n.startDate.localDate,children:(0,N.jsx)(a.D,{as:"h5",variant:"mestoBold",children:(0,l.jx)(y)})}),(0,N.jsxs)("div",{className:u,dir:"auto",children:[(0,N.jsxs)(a.D,{as:"h2",className:x,variant:"mesto",children:[(0,r.FO)(y)," • ",(0,l.hK)(y)]}),(0,N.jsx)(a.D,{as:"h2",variant:"cello",weight:"bold",className:h,children:(0,d.ij)(n)}),(0,N.jsx)("div",{className:g,children:(0,N.jsx)(a.D,{as:"h2",className:p,variant:"mesto","data-testid":"location-name",children:t?f:[f,b].join(i.ag.getSeparator())})})]})]})}))},92187:(e,n,t)=>{t.r(n),t.d(n,{default:()=>We});var s=t(59496),a=t(84875),i=t.n(a),o=t(90641),c=t(92053),r=t(3109),l=t(46444),d=t(17286),m=t(53718),v=t(68045),u=t(83016),h=t(14894),g=t(34194),p=t(4809),x=t(5748),j=t(49188),N=t(97054),f=t(74684),b=t(10022),k=t(59673),y=t(16988),_=t(10453),C=t(75387),S=t(21182),I=t(52542);const w=async()=>(await(0,I.getSavedConcertsHub)(S.b.getInstance())).body,D=e=>{const[n,{isAnonymous:t,geonameId:s}]=e.queryKey;return(async(e,n)=>{const t=e?(0,I.getConcertsHub)(S.b.getInstance(),void 0,n):(0,I.getConcertsForUser)(S.b.getInstance(),n);return(await t).body})(t,s)},F=/^(\d+)/,O=()=>{const{location:e}=(0,c.UO)(),[,n]=e?.match(F)||[];if(n)try{return parseInt(n,10)}catch(e){return}};var U=t(47150),L=t(65734),G=t(61331),H=t(23761),M=t(26627),E=t(76872),T=t(70883),B=t(76010),W=t(10271);const A="cELOd04or4B6BbTbNWA7",R="CHJYbX33oDik9u4n4ohH",P="woQ0wEe6FL4lsGW05bsb",Z="KTDREr8pDWjrmnzXzZ2z",X="UUTvdEOH2v_rejoXdl9Z",z="cBbTozR921ppaoNZP0Uh",K="SNyyQ0t_VvlWzzB9li7v",J="lwO4iko6mhCUgZN1s9AW",Q="akvZI06vqHOow1pOL29J",$="WWZp3WM0maWJzl2qWEHE",V="YdkAHxbDekz9SiAxHG6M",Y="AK37djOBJ2BuJOGuG1kQ",q="JfYURQbEA_ntMsMZV6tK",ee="du0mOGaZfHg3hsHwRMIu",ne="Rvzy4ltiiHIp9mvlxf0c";var te=t(4637);const se=(0,s.memo)((e=>{const{concert:n,position:t,modalSpec:a}=e,{id:i,venue:o,location:c}=n,r=n.startDate.localDate,l=(0,B.CH)(r),d="ONLINE"===n.category,m=(0,s.useMemo)((()=>a?.eventRowFactory({position:t,uri:`spotify:concert:${n.id}`})),[a,t,n]),u=(0,y.$P)();return(0,te.jsxs)(T.Link,{to:`/concert/${n.id}`,className:J,onClick:()=>{m&&u.logInteraction(m.hitUiNavigate({destination:`/concert/${i}`}))},children:[(0,te.jsxs)("div",{className:Q,"aria-hidden":!0,children:[(0,te.jsx)(v.D,{as:"h5",variant:"mestoBold",className:$,children:(0,B.jw)(l)}),(0,te.jsx)(v.D,{as:"h1",variant:"cello",className:V,children:(0,B.wf)(l)})]}),(0,te.jsxs)("div",{className:Y,children:[(0,te.jsx)(v.D,{as:"div",variant:"violaBold",className:q,"data-testid":"event-title",children:(0,W.Yl)(n)}),(0,te.jsx)(L.T,{children:(0,B.jx)(l)}),(0,te.jsxs)(v.D,{as:"div",variant:"viola",className:ee,children:[(0,B.FO)(l)," • ",(0,B.hK)(l)]}),(0,te.jsx)(v.D,{as:"div",variant:"viola",className:ne,"data-testid":"event-venue",children:d?o:[o,c].join(g.ag.getSeparator())})]})]},n.id)})),ae=(0,s.memo)((e=>{const{event:n,locationName:t,onClose:a,feedSpec:i}=e,o=n?.concerts[0]?.concert,c=o?.artists[0],r=(0,s.useMemo)((()=>i?.groupedEventModalFactory({uri:c?.uri||""})),[i,c]),l=(0,y.$P)(),d=(0,y.Wi)(r);if(!n||!o||!c)return null;const m=()=>{r&&l.logInteraction(r.closeButtonFactory().hitUiHide()),a()};return(0,te.jsx)(E.Z,{contentLabel:g.ag.get("live_events.label"),isOpen:!0,className:A,onRequestClose:m,children:(0,te.jsxs)("section",{className:R,ref:d,children:[(0,te.jsx)("div",{className:P,children:(0,te.jsx)(ie,{"aria-label":g.ag.get("close"),iconOnly:G.k,buttonSize:"sm",onClick:m})}),(0,te.jsxs)("div",{className:Z,children:[(0,te.jsx)(H.E,{height:"48",width:"48",className:X,src:c.imageUri}),(0,te.jsxs)("div",{className:z,children:[(0,te.jsx)(v.D,{as:"h3",variant:"cello",className:K,"data-testid":"event-venue",children:c.name}),(0,te.jsx)(v.D,{as:"h3",variant:"mesto","data-testid":"event-venue",children:`${g.ag.get("concerts.count_near_location",n.concerts.length,t)}`})]})]}),n.concerts.map(((e,n)=>(0,te.jsx)(se,{concert:e.concert,position:n,modalSpec:r},e.concert.id)))]})})}));var ie=(0,U.ZP)(M.o).withConfig({displayName:"ConcertFeedGroupedModal___StyledButtonTertiary",componentId:"sc-1o845wh-0"})({color:"#FFFFFF",backgroundColor:"#000000",cursor:"pointer"}),oe=t(27651),ce=t(88645),re=t(32674),le=t(89662),de=t(8662),me=t(52101),ve=t(18486);const ue="pU4WoqT8T6PmtjPbFtK0",he="FC5Y_KFJ9rJyTpydqtOW",ge="AAYLcavkBdCuebn9AQxT",pe="lYHCmxpdReachiOORWGo",xe="JtKEdtTtcK7s6EpGecaC",je="myHDa69cI5CHC8fhIhkG",Ne=(0,s.memo)((e=>{const{event:n,onClick:t}=e,a=(0,s.useCallback)((()=>t(n)),[n,t]),i=(0,B.CH)(n.openingDate),o=(0,B.CH)(n.closingDate),c=n.concerts[0].concert,r=c.artists[0];return(0,te.jsxs)(M.o,{onClick:a,className:ue,component:"div",role:"button",children:[r.imageUri&&(0,te.jsx)(ve.Z,{children:(0,te.jsx)("div",{role:"img",className:je,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${r.imageUri})`}})}),(0,te.jsx)("time",{className:he,dateTime:i.toISOString(),children:(0,te.jsx)(v.D,{as:"h5",variant:"mestoBold",children:(0,B.Bc)(i,o)})}),(0,te.jsxs)("div",{className:ge,dir:"auto",children:[(0,te.jsx)(v.D,{as:"h2",variant:"cello",weight:"bold",className:pe,children:(0,W.ij)(c)}),(0,te.jsx)("div",{className:xe,children:(0,te.jsx)(v.D,{as:"h2",variant:"mesto","data-testid":"concerts-count",children:g.ag.get("concerts.count",n.concerts.length)})})]})]})})),fe=(0,s.memo)((e=>{const{event:n,position:t,sectionSpec:a,onOpenGroupedEvent:i}=e,o=n.concerts[0]?.concert,c=o?.id,r=o&&(0,de.g3)(o.id).toURI(),l=(0,s.useMemo)((()=>a?.eventCardFactory({identifier:c??"",position:t,uri:r??""})),[a,c,r,t]),d=(0,y.$P)(),m=e=>{i(e),l&&d.logInteraction(l.hitUiReveal())};if(n.concerts.length>1)return(0,te.jsx)(Ne,{event:n,onClick:m});return(0,te.jsx)(me.Z,{concert:o,isVirtual:"online"===n.source,onClick:()=>{l&&d.logInteraction(l.hitUiNavigate({destination:r}))}})})),be="MVPegsivznZB6gdkcnkH",ke="MlK79hskRbFrN2OBjMkl",ye="VxaXFH9Uq1NU0LtsVhIu",_e="UDVDNa40iTSPS9uHCG7Q",Ce="ofURwIKv0qEXJGTraIis",Se="RLoSoo6mmRgHfwNfLxAj",Ie="fN_lJHkYih9H3j9YSEzS",we="LOJZO2MnGW5dCIawF767",De="PoljWhTLU3MKqIx2gSPY",Fe="ajxCNAuBJSgYfKUUBWBT",Oe="WR2h2Li5XTrBn_Rdme_k",Ue=(0,s.memo)((e=>{const{title:n="",identifier:t,position:a,events:i,feedSpec:o,onOpenGroupedEvent:c}=e,r=(0,s.useMemo)((()=>o?.eventSectionFactory({identifier:t,position:a})),[o,t,a]),l=(0,y.Wi)(r);return 0===i.length?null:(0,te.jsx)("div",{className:be,ref:l,children:(0,te.jsx)(le.ZP,{value:"headered-grid",index:a,children:(0,te.jsx)(re.P,{total:i.length,title:n,showAll:!0,children:i.map(((e,n)=>{const t=e.concerts[0]?.concert;return(0,te.jsx)(fe,{event:e,position:n,sectionSpec:r,onOpenGroupedEvent:c},t.id)}))})})})})),Le=(0,s.memo)((e=>{const{enableInterestedFeature:n=!1,isLoading:t,events:s,locationName:a,spec:i,onOpenGroupedEvent:o}=e;if(t)return(0,te.jsx)(ce.h,{hasError:!1,errorMessage:""});if(0===s.length)return(0,te.jsx)(oe.u,{title:g.ag.get("concerts.error.no_concerts_found_title"),message:g.ag.get("concerts.error.no_concerts_found_message",a),renderInline:!0});const c=(e=>{const n={popular:[],recommended:[],online:[]};return e.forEach((e=>{switch(e.source){case"recommendation":n.recommended.push(e);break;case"popular":n.popular.push(e);break;case"online":n.online.push(e)}})),n})(s);return(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Ue,{title:g.ag.get("concerts_upcoming_virtual_events"),identifier:"online",position:0,events:c.online,onOpenGroupedEvent:o,feedSpec:i}),(0,te.jsx)(Ue,{title:n?"":g.ag.get("concerts_recommended_for_you"),identifier:"recommended",position:1,events:c.recommended,onOpenGroupedEvent:o,feedSpec:i}),(0,te.jsx)(Ue,{title:g.ag.get("concerts_popular_near_you"),identifier:"popular",position:2,events:c.popular,onOpenGroupedEvent:o,feedSpec:i})]})})),Ge=(0,s.memo)((e=>{const{enableInterestedFeature:n=!1,events:t,isLoading:a,locationName:i,spec:o}=e,[c,r]=(0,s.useState)(),l=(0,b.o)();return(0,te.jsxs)("div",{children:[(0,te.jsx)(Le,{enableInterestedFeature:n,isLoading:a,events:t||[],locationName:i,spec:o,onOpenGroupedEvent:e=>{r(e);const n=e.concerts[0]?.concert.artistUris[0];l({type:"click",intent:"open-grouped-live-event",targetUri:n})}}),(0,te.jsx)(ae,{event:c,locationName:i,feedSpec:o,onClose:()=>r(void 0)})]})}));var He=t(91677);const Me=(0,s.memo)((e=>{const n=(0,c.s0)(),{isAnonymous:t,spec:a,locationName:i,onClick:o}=e,[r,l]=(0,s.useState)(),d=(e=>(0,C.useQuery)("savedConcerts",w,{enabled:!e,keepPreviousData:!1}))(t),m=(0,b.o)();return(0,te.jsx)(te.Fragment,{children:d.data?.events.length?(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Ue,{title:g.ag.get("concerts_upcoming"),identifier:"saved",position:0,events:d.data?.events,onOpenGroupedEvent:e=>{const n=e.concerts[0]?.concert.artistUris[0];m({type:"click",intent:"open-grouped-live-event",targetUri:n})},feedSpec:a}),(0,te.jsx)(ae,{event:r,locationName:i,feedSpec:a,onClose:()=>l(void 0)})]}):(0,te.jsxs)("div",{className:we,children:[(0,te.jsx)(v.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:Fe,children:g.ag.get("concerts_interested_in_live_events")}),(0,te.jsx)(v.D,{as:"p",className:Oe,children:g.ag.get("concerts_no_events_description")}),(0,te.jsx)(He.P,{className:De,onClick:()=>{o("recommended"),n("/concerts?filter=saved")},children:g.ag.get("concerts_browse_more_events")})]})})}));var Ee=t(55722);const Te=r.vI0,Be={url:"https://tickets.spotifycdn.com/partner-assets/Hub%20header%20image/Desktop%20header%20IMG.png",width:2736,height:720},We=()=>{const e=(0,c.s0)(),{isAnonymous:n}=(0,o.v9)(k.Gg),t=O(),{data:a,isLoading:r}=(e=>{const n=(0,C.useQueryClient)();return(0,C.useQuery)(["concerts",e],D,{staleTime:6e5,keepPreviousData:!0,onSuccess(t){if(e.geonameId||!t.userLocationGeonameId)return;const s=parseInt(t.userLocationGeonameId,10),a=["concerts",{...e,geonameId:s}];n.setQueryData(a,(()=>t))}})})({isAnonymous:n,geonameId:t}),S=(0,u.W6)(_.tp),{spec:I}=(0,y.fU)(h.createDesktopLiveeventsFeedEventFactory,{}),w=(0,s.useMemo)((()=>I.headerFactory()),[I]),F=(0,b.o)(),{type:U}=((e,n)=>{const t=O();return"saved"===(0,c.UO)().filter&&n&&!e?{type:"saved"}:{type:"recommended",geonameId:t}})(n,S),[L,G]=(0,s.useState)(U),H=a?.userLocation||g.ag.get("concerts.default_location");return(0,te.jsxs)("section",{className:ke,children:[(0,te.jsx)(x.$,{children:`${g.ag.get("concerts_shows_in")} ${H}`}),(0,te.jsxs)(j.gF,{size:j.fR.SMALL,backgroundColor:Te,backgroundImages:[Be],children:[(0,te.jsx)(j.sP,{children:(0,te.jsx)(j.xd,{children:g.ag.get("live_events.label")})}),(0,te.jsx)(N.W,{children:(0,te.jsx)(f.i,{text:g.ag.get("live_events.label")})})]}),(0,te.jsxs)("div",{className:ye,children:[(0,te.jsx)(p.I,{backgroundColor:Te}),!n&&S&&(0,te.jsx)("div",{className:Ce,children:(0,te.jsx)(l.l,{list:(0,te.jsx)("nav",{"aria-label":"live events navbar",children:(0,te.jsxs)(d.F,{children:[(0,te.jsx)(m.c,{id:"recommended_for_you_link",label:g.ag.get("concerts_recommended_for_you"),active:"recommended"===L,className:i()(Ie,{[Se]:"recommended"===L}),onClick:()=>{G("recommended"),e("/concerts")},sentenceCase:!0},0),(0,te.jsx)(m.c,{id:"concerts_interested_link",label:g.ag.get("concerts_interested"),active:"saved"===L,className:i()(Ie,{[Se]:"saved"===L}),onClick:()=>{G("saved"),e("/concerts?filter=saved")},sentenceCase:!0},1)]})})})}),(0,te.jsxs)("div",{className:_e,children:["recommended"===L&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)("div",{className:be,"data-testid":"location-selector",children:(0,te.jsx)(Ee.Z,{handleLocationChange:n=>{F({type:"click",intent:"change-live-events-location"}),n?.geonameId&&e(((e,n)=>{if(!e)return"/concerts";const t=n?.normalize().replaceAll(/\W+/g,"-");return t?`/concerts/location/${e}-${t}`:`/concerts/location/${e}`})(n.geonameId,n.location))},locationStr:H,headerSpec:w})}),(0,te.jsx)(Ge,{isLoading:r,events:a?.events||[],locationName:H,spec:I,enableInterestedFeature:S}),(0,te.jsx)(v.D,{variant:"finale",semanticColor:"textSubdued",children:g.ag.get("live_events.disclaimer")})]}),"saved"===L&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(Me,{isAnonymous:n,spec:I,locationName:H,onClick:e=>{G(e)}}),(0,te.jsx)(v.D,{variant:"finale",semanticColor:"textSubdued",children:g.ag.get("live_events.disclaimer")})]})]})]})]})}},3357:(e,n,t)=>{t.d(n,{e:()=>u});var s=t(81960);const a="(min-width: 0px)",i="(min-width: 0px) and (max-width: 767px)",o="(min-width: 768px)",c="(min-width: 768px) and (max-width: 1023px)",r="(min-width: 1024px)",l="(min-width: 1024px) and (max-width: 1279px)",d="(min-width: 1280px)",m="(min-width: 1280px) and (max-width: 1919px)",v="(min-width: 1920px)",u=()=>({isXS:(0,s.a)(a),isXSOnly:(0,s.a)(i),isSM:(0,s.a)(o),isSMOnly:(0,s.a)(c),isMD:(0,s.a)(r),isMDOnly:(0,s.a)(l),isLG:(0,s.a)(d),isLGOnly:(0,s.a)(m),isXL:(0,s.a)(v)})}}]);
//# sourceMappingURL=xpui-routes-collection-concerts.js.map