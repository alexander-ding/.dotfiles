"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3472],{43426:(e,t,s)=>{s.d(t,{o:()=>n});var a=s(83016),i=s(47871);function n(){return{version:(0,a.W6)(i.GE)?2:1}}},56005:(e,t,s)=>{s.d(t,{p:()=>u,q:()=>r.q});var a=s(59496),i=s(90641),n=s(15142),r=s(22259),o=s(28471),l=s(10022),c=s(4637);const d=a.memo((function({uri:e,size:t=r.q.md,className:s,onClick:d,showUpsell:u}){const[p,m]=(0,n.Z)(e),x=(0,i.I0)(),h=(0,l.o)(),g=(0,a.useCallback)((()=>{h({targetUri:e,intent:p?"remove-from-library":"add-to-library",type:"click"}),m(!p),x(p?(0,o.SS)():(0,o.kK)())}),[h,e,p,m,x]);return(0,c.jsx)(r.o,{className:s,isFollowing:p,onFollow:g,onClick:d,uri:e,size:t,showUpsell:u})})),u=a.memo((function(e){return(0,c.jsx)(d,{...e})}))},52954:(e,t,s)=>{s.r(t),s.d(t,{default:()=>pt});var a=s(59496),i=s(92053),n=s(83016),r=s(68910),o=s(2962),l=s(8662),c=s(34194),d=s(5748),u=s(50274),p=s(88645),m=s(91677),x=s(43426),h=s(31512),g=s(4637);const y=(0,a.lazy)((()=>s.e(5518).then(s.bind(s,65518))));function j(e){const t=(0,h.m)(),s=(0,x.o)();return t?(0,g.jsx)(a.Suspense,{fallback:!0,children:(0,g.jsx)(y,{reason:"Episode page",...s,...e})}):null}const b="dpN5ViPOceUWNB5EQPHN",k="vBcxPq3E2okwgXOkVPEM",C="HCCBXwdFvq6omWW2hR0N",P="bJOPO5Zo7dpjSVDwEpSw",f="TXdDDpokVTyJzDEDWHHf",v="HaSbtEVJnxBsaJ5SRi0M",T="YldGldlfaI9myEGXQf9g",I="qJHVIpJn1vLPWsAKfTEZ",E="wSIzjkVlr0Zdy7di2vRm",S="hYS_K1NATGyWt6tCSRqQ",D="hVVaM4pF9arpQ8Nvn2a1",N="zf0Eac1LugsHUacz74Zf",L="TnNaqxbaI0hzhBQZ7wE0",U="zSw1lG1TNe_xm6KTqtCv",w="MlEQDkXnjdKKJueJ9kkB",M="jg0xlyD1yjh0DPNG6eOg",R="QiHXpFb4dLZNOFe5gpp3";var B=s(68045),A=s(60130),F=s(16988),O=s(93163),z=s(47871),_=s(4289);const $=({cardHeaderText:e,cardBodyText:t,buttonText:s,buttonTarget:a})=>(0,n.W6)(z.vp)?(0,g.jsxs)("div",{className:T,children:[(0,g.jsxs)("div",{className:I,children:[(0,g.jsx)(B.D,{variant:"balladBold",semanticColor:"textBase",children:e}),(0,g.jsx)(B.D,{semanticColor:"textBase",children:t})]}),(0,g.jsx)(O.D,{buttonSize:"sm",colorSet:"invertedLight",href:(0,l.EC)(a).toURLPath(!0),component:_.Z,children:s})]}):null,q=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:i,htmlDescription:n,onExpanded:r,onTimeStampClick:o,playability:l,showHeader:d=!0,spec:u})=>{const p=(0,F.$P)(),m=(i||t)&&d,x=(0,a.useCallback)((e=>{const t=u.readMoreButtonFactory();p.logInteraction(e?t.hitUiReveal():t.hitUiHide()),r?.()}),[u,p,r]);return(0,g.jsxs)(g.Fragment,{children:[m&&(0,g.jsx)(B.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:C,children:c.ag.get("episode.description-title")}),t&&(0,g.jsx)($,{cardHeaderText:t.cardHeaderText,cardBodyText:t.cardBodyText,buttonText:t.buttonText,buttonTarget:t.buttonTarget}),i&&(0,g.jsx)(A.o,{className:k,onTimeStampClick:o,maxLines:4,onExpanded:x,content:(s||"").trim(),htmlContent:e&&n?n:void 0,enableTimestamps:l.playable})]})};var H,W=s(84875),Z=s.n(W),K=s(91929),V=s(46444),Y=s(17286),G=s(53718),J=s(42455),X=s(28485);!function(e){e.DESCRIPTION="description",e.TRANSCRIPT="transcript"}(H||(H={}));const Q=a.memo((function({transcriptSections:e,descriptionContent:t,transcriptContent:s,spec:i}){const n=(0,F.$P)(),[r,o]=(0,a.useState)(H.DESCRIPTION),{scrollNodeRef:l}=a.useContext(X.VX),{ref:d,inView:u}=(0,K.YD)({threshold:[1],root:l.current,rootMargin:`-${J.K1+1}px 100000px 0px 100000px`}),p=(0,a.useRef)(null),m=(0,a.useCallback)((e=>{p.current=e,d(e)}),[d]);return(0,a.useEffect)((()=>{const e=p.current?.parentElement?.offsetTop,t=l?.current;if(!e||!t)return;const s=e-J.K1;t.scrollTop>s&&t.scrollTo({top:s})}),[l,r]),(0,g.jsx)(V.l,{list:(0,g.jsxs)(Y.F,{className:Z()(w,{[M]:!u}),ref:m,children:[(0,g.jsx)(G.c,{label:c.ag.get("web-player.episode.description"),sentenceCase:!0,active:r===H.DESCRIPTION,onClick:()=>{const e=i.tabsFactory().descriptionTabButtonFactory().hitUiReveal();n.logInteraction(e),o(H.DESCRIPTION)},className:Z()(R,{[E]:r===H.DESCRIPTION})}),(0,g.jsx)(G.c,{label:c.ag.get("web-player.episode.transcript"),sentenceCase:!0,disabled:null===e,active:r===H.TRANSCRIPT,onClick:()=>{const e=i.tabsFactory().transcriptTabButtonFactory().hitUiReveal();n.logInteraction(e),o(H.TRANSCRIPT)},className:Z()(R,{[E]:r===H.TRANSCRIPT})})]}),children:null===e||r===H.DESCRIPTION?t:s})}));var ee=s(25692),te=s(22465),se=s(70134),ae=s(87896);const ie=(0,a.memo)((function({transcriptSections:e,onTimeStampClick:t,episodeUri:s}){const{spec:a,logger:i}=(0,F.fU)(ee.m,{data:{uri:s}}),{isPlaying:n}=(0,se.n)({uri:s},{featureIdentifier:"episode"}),r=a.timestampLinkFactory();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:D,children:(0,g.jsx)(B.D,{variant:"viola",semanticColor:"textBase",children:c.ag.get("web-player.episode.transcript.disclaimer")})}),e.map(((e,a)=>{const o=`transcript-section-${a}`;return(0,g.jsxs)("div",{className:S,children:[(0,g.jsx)("button",{className:N,onClick:()=>{t(e.startMs,o),i.logInteraction(n?r.hitSeekToTime({msToSeekTo:e.startMs}):r.hitPlay({itemToBePlayed:s}))},children:(0,g.jsx)(te.D,{id:o,targetURI:(0,l.EC)(s),fadeOut:!0,children:(0,g.jsx)(B.D,{variant:"finaleBold",semanticColor:"textSubdued",className:L,children:(0,ae.m)(e.startMs)})})}),e.content.map(((e,t)=>(0,g.jsx)(B.D,{variant:"viola",semanticColor:"textBase",className:U,dir:"auto",children:e},`transcript-text-${t}`)))]},o)}))]})}));var ne=s(10103),re=s(58063),oe=s(73876),le=s(90258),ce=s(14090),de=s(22559),ue=s(70162),pe=s(13899),me=s(82376),xe=s(91012),he=s(89662);const ge="OYehkMWcGJRKPkByp46K",ye="uc1bXkrZqrCz0CMK4lBb",je="qZeibBbA3SVClzEueYND",be=({episodeUri:e,index:t,duration:s,start:i,stop:n,name:r,uri:o,artists:l,album:d,playable:u})=>{const{isActive:p,isPlaying:m,onClick:x}=(0,me.k)({episodeUri:e,start:i,stop:n}),h=(0,a.useCallback)(((e,t)=>{x(t)}),[x]),{spec:y}=(0,F.fU)(ce.createDesktopTrackListRowEventFactory,{data:{position:t,reason:"",uri:o}});return(0,g.jsx)(he.ZP,{value:"row",index:t,children:(0,g.jsx)(xe.xV,{trigger:"right-click",action:"open",menu:(0,g.jsx)(de.$,{uri:o}),children:(0,g.jsxs)(pe.c,{uri:o,index:t,ariaRowIndex:t+1,dragMetadata:{name:r,createdBy:l?.[0].name??""},onTriggerPlay:h,isActive:p,isPlayable:u,spec:y,children:[(0,g.jsxs)(ue.vZ,{ariaColIndex:0,children:[(0,g.jsx)(ue.Du,{uri:o,playAriaLabel:c.ag.get("tracklist.a11y.play",r,l?.[0].name),onClick:h,isPlaying:m,isActive:p,spec:y,children:(0,g.jsx)(ue.km,{children:(0,g.jsx)("img",{className:ye,src:d.image,alt:d.name})})}),(0,g.jsxs)(ue.vm,{children:[(0,g.jsx)(ue.Wh,{titleText:r,children:r}),(0,g.jsx)(ue.K9,{children:(0,g.jsx)(ue.T6,{artists:l,spec:y})})]})]}),(0,g.jsx)(ue.UA,{ariaColIndex:1,children:(0,g.jsx)(ue.BM,{uri:d.uri,name:d.name,spec:y,children:d.name})}),(0,g.jsxs)(ue.mU,{ariaColIndex:2,children:[(0,g.jsx)(ue.qS,{uri:o,spec:y}),(0,g.jsx)(ue.A$,{duration:s}),(0,g.jsx)(ue.Zv,{spec:y,menu:(0,g.jsx)(de.$,{uri:o,artists:l}),label:c.ag.get("more.label.track",r,l?.[0].name)})]})]})})})};function ke(e,t,s){return e.reduce(((e,a,i)=>((i>0||t>0)&&e.push({type:"SPACER",id:`spacer-${e.length}`}),"MUSIC"===a.type?e.push(function(e,t,s){return{type:"MUSIC",index:t,uri:s.uri,episodeUri:e,start:s.start,stop:s.stop,duration:s.duration,name:s.track.name,artists:s.track.artists,album:s.track.album,playable:s.track.playable}}(s,i,a)):"TALK"===a.type&&e.push(function(e,t,s){return{type:"TALK",index:t,uri:e,title:s.title,subtitle:s.subtitle,start:s.start,stop:s.stop,duration:s.duration,showUri:s.show.uri,showName:s.show.name}}(s,i,a)),e)),[])}const Ce=({uri:e,segmentCount:t})=>{const s=(0,oe.G)(),i=(0,a.useCallback)((async(a,i)=>{const n=Math.ceil(a/2);try{return{items:ke(await s.getSegments(e,n,i),n,e),totalLength:2*t-1}}catch(e){return{items:[],totalLength:0}}}),[t,s,e]),n=(0,a.useCallback)((t=>{switch(t.type){case"SPACER":return(0,g.jsx)("div",{className:je},t.id);case"MUSIC":return(0,g.jsx)(be,{...t},`${e}-${t.index}`);case"TALK":return(0,g.jsx)(ne.t,{...t},`${e}-${t.index}`);default:return(0,le.U)(t)}}),[e]),r=c.ag.get("music_and_talk.in_this_episode");return(0,g.jsxs)("div",{children:[(0,g.jsx)(B.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:ge,children:r}),(0,g.jsx)(re.Pv,{ariaLabel:r,hasHeaderRow:!0,rowPlaceholder:re.hU,columns:[re.QD.TITLE,re.QD.ALBUM_OR_SHOW,re.QD.DURATION],renderRow:n,fetchTracks:i,resolveUri:e=>"MUSIC"===e.type?e.uri:"",limit:50,nrTracks:2*t-1,testID:"music-and-talk-tracklist"})]})};var Pe=s(95452);const fe=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:i,hasMusicAndTalkSegements:n,htmlDescription:r,onExpanded:o,onDescriptionTimestampClick:l,onTranscriptTimestampClick:d,playability:u,segmentCount:p,showUrl:x,transcript:h,transcriptEnabled:y,uri:b,spec:k})=>{const C=(0,F.$P)(),f=(0,a.useMemo)((()=>k.descriptionSectionFactory()),[k]),v=(0,a.useMemo)((()=>f.trackListFactory()),[f]),[T,I]=(0,a.useState)(null),E=(0,a.useCallback)((async e=>{const t=await(0,Pe.l)(e);I(t)}),[]);(0,a.useEffect)((()=>{h&&h.length>0&&E(h[0].cdnUrl)}),[E,h]);const S=a=>(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(q,{hasDescription:i,contentInformation:t,onTimeStampClick:l,onExpanded:o,description:s,areHTMLDescriptionsEnabled:e,htmlDescription:r,playability:u,showHeader:a,spec:f}),n&&(0,g.jsx)(F.Nh,{spec:v,children:(0,g.jsx)(Ce,{segmentCount:p,uri:b})}),x&&(0,g.jsx)(m.P,{buttonSize:"sm",className:P,href:x,component:_.Z,onClick:()=>{C.logInteraction(f.allEpisodesLinkFactory().hitUiNavigate({destination:x}))},children:c.ag.get("episode.see_all_episodes")}),(0,g.jsx)(j,{uri:b})]});return(0,g.jsx)(g.Fragment,{children:y&&h&&h?.length>0?(0,g.jsx)(Q,{transcriptSections:T,descriptionContent:S(!1),transcriptContent:(0,g.jsx)(ie,{transcriptSections:T||[],onTimeStampClick:d,episodeUri:b}),spec:k}):S(!0)})};var ve=s(38930),Te=s(60960),Ie=s(36270),Ee=s(92780);const Se="activation-trigger-mme",De=({episodeUri:e,showUri:t,isLocked:s,isPlaying:a,isPlayDisabled:i,playButtonPlayLabel:n,playButtonPauseLabel:r,onClick:o})=>{const c=(0,Ee.E)();if((0,Te.g)())return(0,g.jsx)(Ie.JM,{size:Ie.qE.lg,onClick:o,isPlaying:a,disabled:i,locked:s,ariaPlayLabel:n,ariaPauseLabel:r});const d=(0,g.jsx)(ve.l,{showUri:t,enabled:s,renderInline:!1,children:(0,g.jsx)(Ie.JM,{size:Ie.qE.lg,onClick:o,isPlaying:a,disabled:i,locked:s,ariaPlayLabel:n,ariaPauseLabel:r})});return c?(0,g.jsx)(te.D,{id:Se,targetURI:(0,l.EC)(e),fadeOut:!0,children:d}):d};var Ne=s(10022),Le=s(91404),Ue=s(61190),we=s(32043),Me=s(16442),Re=s(33033),Be=s(95030),Ae=s(74710),Fe=s(67053),Oe=s(76946),ze=s(90641),_e=s(16406),$e=s(19244),qe=s(56005),He=s(10707),We=s(96726),Ze=s(99727),Ke=s(33482),Ve=s(658),Ye=s(64120),Ge=s(21298),Je=s(14852),Xe=s(95373),Qe=s(31612);const et=({episode:e,onPlayEpisode:t,isPlaying:s,isActive:i,isFullyPlayed:n,setIsFullyPlayed:r,backgroundColor:o,isLocked:l,spec:d})=>{const{uri:u,playedState:p,contentRating:m,playability:x}=e,h=(0,F.$P)(),y=(0,ze.I0)(),[j]=(0,Je.z)(1e4,(e=>e?.item?.uri===u)),b=(0,Re.Y)((e=>e?.duration)),{badges:k}=(0,Qe.r)({contentRating:m?.label}),C=(0,a.useCallback)((e=>{!x.playable&&k.nineteen&&(e.stopPropagation(),y((0,_e.RM)(u||"")))}),[u,x.playable,k.nineteen,y]),P=(0,a.useCallback)((()=>{const e=d.contextMenuButtonFactory().hitUiReveal();h.logInteraction(e)}),[h,d]),v=(0,a.useCallback)(((e,t)=>{(0,Ke.l7)(t,d.downloadButtonFactory(),h,u)}),[h,d,u]),T=(0,a.useCallback)((e=>{const t=d.saveButtonFactory();h.logInteraction(e?t.hitLike({itemToBeLiked:u}):t.hitRemoveLike({itemNoLongerLiked:u}))}),[h,d,u]),I=!l&&!e.playability.playable,E=c.ag.get("tracklist.a11y.play",e.name,e.podcast?.name),S=c.ag.get("tracklist.a11y.pause",e.name,e.podcast?.name),D=e.podcast?.uri;return(0,g.jsxs)($e.o,{backgroundColor:o,children:[(0,g.jsxs)($e.F,{children:[k.nineteen&&(0,g.jsx)(Ge.X,{className:f,size:16}),(0,g.jsx)(Xe.E,{size:Xe.$.LARGE,fullyPlayed:n,durationMs:i&&b?b:e.duration.milliseconds,releaseDate:mt(e.releaseDate?.isoString),resumePositionMs:p.playPositionMilliseconds,isPlaying:s,position:i&&j||void 0})]}),(0,g.jsxs)($e.F,{children:[(0,g.jsx)("div",{onClick:C,children:(0,g.jsx)(De,{episodeUri:e.uri,showUri:D,isLocked:l,onClick:()=>{t(p.playPositionMilliseconds)},isPlaying:s,isPlayDisabled:I,playButtonPlayLabel:E,playButtonPauseLabel:S})}),!l&&(0,g.jsx)(qe.p,{uri:e.uri,onClick:v}),(0,g.jsx)(We.w,{uri:e.uri,size:Ve.q.md,onClick:T}),(0,g.jsx)(Ye.y,{onShow:P,menu:(0,g.jsx)(Ze.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:D,contextUri:e.uri,isPlayed:n,onMarkAsPlayed:r}),children:(0,g.jsx)(He.z,{label:c.ag.get("more.label.context",e.name)})})]})]})};var tt=s(49188),st=s(97054),at=s(74684),it=s(70883),nt=s(89161),rt=s(27794);const ot=({episode:e,isFullyPlayed:t,setIsFullyPlayed:s,backgroundColor:i,spec:n})=>{const{uri:r,name:o,sharingInfo:d,playedState:u,episodeType:p,releaseDate:m}=e,x=(0,F.$P)(),h=function(e,t,s,a,i){const n=t===Fe.Wf.Episode;return(0,rt.G3)(e,a,s,i)?(0,g.jsx)(rt.Fg,{isMusicAndTalk:n}):n?c.ag.get("type.showEpisode"):c.ag.get("type.podcastEpisode")}(r,p||Fe.Wf.Unknown,u.playPositionMilliseconds,mt(m?.isoString),u.state===Fe.sY.Completed),y=e.podcast?.uri,j=function(e){const t=(0,l.EC)(e);return`/show/${(0,l.HB)(t?.id||"")}`}(y),b=(0,a.useCallback)((()=>{x.logInteraction(n.podcastLinkFactory().hitUiNavigate({destination:j}))}),[x,j,n]);return(0,g.jsxs)(tt.gF,{backgroundColor:i,children:[(0,g.jsx)(st.W,{children:(0,g.jsx)(at.i,{text:e.name,dragUri:r,dragLabel:e.name})}),(0,g.jsx)("div",{className:v,children:(0,g.jsx)(nt._,{menu:(0,g.jsx)(Ze.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:y,contextUri:e.uri,isPlayed:t,onMarkAsPlayed:s}),children:(0,g.jsx)(tt.Oe,{loading:"eager",name:e.name,images:e.coverArt,placeholderType:"episode",shape:tt.Kc.ROUNDED_CORNERS})})}),(0,g.jsxs)(tt.sP,{children:[(0,g.jsx)(B.D,{variant:"mestoBold",children:h}),(0,g.jsx)(nt._,{menu:(0,g.jsx)(Ze.k,{uri:r,sharingInfo:d,showUri:y,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,g.jsx)(tt.xd,{dragUri:r,dragLabel:o,children:(0,g.jsx)("span",{"data-testid":"episodeTitle",children:o})})}),(0,g.jsx)(nt._,{menu:(0,g.jsx)(Ze.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:y,contextUri:e.uri,isPlayed:t,onMarkAsPlayed:s}),children:(0,g.jsx)(B.D,{variant:"canon",children:(0,g.jsx)(it.default,{to:j,onClick:b,children:(0,g.jsx)("span",{"data-testid":"showTitle",children:e.podcast?.name})})})})]})]})};var lt=s(54838),ct=s(97026),dt=s(30789);const ut=({episode:e})=>{const{uri:t,episodeType:s,description:i,htmlDescription:o,podcastSubscription:p,segmentsCount:m,podcast:x,contentInformation:h,playedState:y,coverArt:j}=e,{spec:k,logger:C}=(0,F.fU)(r.J,{data:{uri:t}}),P=(0,lt.k)(),f=(0,a.useMemo)((()=>k.headerFactory()),[k]),v=(0,a.useMemo)((()=>k.actionBarFactory()),[k]),[T,I]=(0,a.useState)(y.state===Fe.sY.Completed),E=(0,we.g)(),S=(0,Ne.o)(),D=(0,n.W6)(z.Cz),N=void 0!==m&&m>0,L=(0,n.W6)(z.WE,{loadingValue:!1}),U=(0,Te.g)(),{triggerPlay:w,togglePlay:M,isPlaying:R,isActive:B}=(0,se.n)({uri:t,...P?{}:{pages:[{items:[{type:Oe.p.EPISODE,uri:t,uid:null,provider:null}]}]}},{featureIdentifier:"episode"}),{isActive:A}=(0,Me.$o)(t),O=j[0].url,_=(0,Ue.Zj)(O||null),$=(0,Re.Y)((e=>e?.isPaused??void 0)),q=(0,Ee.E)(),H=p.isPaywalled&&!p.isUserSubscribed,W=A||B,Z=e?{name:e.name,uri:e.uri,audio:{items:e.audio.items.map((e=>({url:e.url})))}}:null,K=x?{name:x.name,uri:x.uri,trailer:x.trailer,showTypes:x.showTypes}:null,V=(0,Le.s)(Z,K),Y=(0,a.useCallback)(((e,a,i,n)=>{const r=()=>{$?(n?.("resume"),E.resume()):(n?.("pause"),E.pause())};if(H)return;let o="play";if(!R||0!==e&&a||(o="pause"),S({intent:o,targetUri:t,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),s===Fe.Wf.Episode&&q)u.y.set((()=>({triggerId:i||Se,triggerAction:null})));else if(B&&!a)U?r():M({loggingParams:n?.()});else if(A&&!a)r();else{const t=n?.("play");U?V({seekTo:e,loggingParams:t}):w({seekTo:e,loggingParams:t})}}),[H,R,S,t,s,q,A,B,U,$,E,M,V,w]),G=(0,a.useCallback)((e=>{Y(e,!1,void 0,(e=>{const s=k.actionBarFactory().playButtonFactory();let a;return a="pause"===e||R?s.hitPause({itemToBePaused:t}):"resume"===e||W?s.hitResume({itemToBeResumed:t}):s.hitPlay({itemToBePlayed:t}),C.logInteraction(a)}))}),[Y,W,R,C,k,t]),J=(0,a.useCallback)((e=>{Y(e,!0,void 0,(()=>C.logInteraction(k.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t}))))}),[Y,C,k,t]),X=(0,a.useCallback)(((e,t)=>{Y(e,!0,t)}),[Y]),Q=(0,a.useCallback)((()=>{S({intent:"expand-description",type:"click"})}),[S]);(0,a.useEffect)((()=>{if(e&&!W){const t=new URLSearchParams(location.search);if(t.has("t")){const s=t.get("t")||"0",a=1e3*parseInt(s,10);a<=e.duration.milliseconds&&Y(a,!0)}}}),[e,W]);const ee=!!i||D&&!!o,te=e.podcast?.uri,ae=(0,l.EC)(te)?.toURLPath(!0);return(0,g.jsxs)("section",{"data-testid":"episode",className:b,children:[(0,g.jsx)(d.$,{children:c.ag.get("podcasts.episode.seo.title",{name:e.name,show:e.podcast?.name??""})}),(0,g.jsx)(ot,{episode:e,isFullyPlayed:T,setIsFullyPlayed:I,backgroundColor:_,spec:f}),(0,g.jsx)(et,{episode:e,onPlayEpisode:G,isPlaying:R,isActive:W,isFullyPlayed:T,setIsFullyPlayed:I,backgroundColor:_,isLocked:H,spec:v}),(0,g.jsx)("div",{className:"contentSpacing",children:(0,g.jsx)(fe,{transcriptEnabled:L,transcript:e.transcript,hasDescription:ee,contentInformation:h,onDescriptionTimestampClick:J,onTranscriptTimestampClick:X,onExpanded:Q,description:e.description,areHTMLDescriptionsEnabled:D,htmlDescription:e.htmlDescription,playability:e.playability,hasMusicAndTalkSegements:N,segmentCount:m,uri:e.uri,showUrl:ae,spec:k})})]})},pt=a.memo((function(){const{episodeId:e=""}=(0,i.UO)(),t=(0,l.YD)(e).toURI(),s=(0,Be.I)(t);return s?(0,Ae.Ey)(s)?(0,g.jsx)(ct.InstrumentedRedirect,{to:(0,l.EC)(s.book?.uri).toURLPath(!0)}):(0,g.jsx)(a.Suspense,{fallback:null,children:(0,g.jsx)(dt.C,{pageId:o.Wg.PODCAST_EPISODE,uri:t,children:(0,g.jsx)(ut,{episode:s})})}):(0,g.jsx)(p.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.podcast")})}));function mt(e){return e?.replace(/T.*/,"")||""}},95373:(e,t,s)=>{s.d(t,{E:()=>I,$:()=>T});var a=s(22005),i=s(59496);const n="wIA_5Ypq0rltNPeZQpM4",r="Swi6YtNEFCCVz8l4y75v",o="pklLPOhfigdytL9bPoth",l="sb24Y8kdMZInJ8aI8dXT";var c=s(4637);class d extends i.PureComponent{static defaultProps={current:0,max:1};render(){const{ariaValueText:e,max:t,current:s}=this.props,a=t&&s?100*Math.min(1,s/t):0,i={transform:`translateX(-${100-a}%)`},d=e||`${Math.round(a)}%`;return(0,c.jsxs)("div",{className:n,role:"progressbar",tabIndex:0,"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":d,children:[(0,c.jsx)("div",{className:r}),(0,c.jsx)("div",{className:o,children:(0,c.jsx)("div",{"data-testid":"progressBarFg",className:l,style:i})})]})}}const u=d,p="qfYkuLpETFW3axnfMntO",m="jOd7lbjiyc_kvRJaAbeL",x="_q93agegdE655O5zPz6l",h="z7Yl7CIT1AB0y91f_moh",g="iLIlkUcfIq56KncGtX7u",y="nV50yZ6BR_TIuWP3l7b1",j="qLjIx_SzBEpDRA_q7kxQ";var b=s(68045),k=s(89553),C=s(34194),P=s(84875),f=s.n(P),v=s(29424);let T;!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(T||(T={}));const I=e=>{const{resumePositionMs:t=0,releaseDate:s,isPlaying:i,fullyPlayed:n,durationMs:r,size:o=T.SMALL,position:l=t}=e;return(0,c.jsxs)("div",{className:f()(p,{[m]:o===T.LARGE}),children:[s?(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:x,children:(0,a.rL)((0,a.RX)(s))}):null,(()=>{if(n&&!i)return(0,c.jsxs)("div",{className:g,children:[(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:h,children:C.ag.get("episode.played")}),(0,c.jsx)(k.N,{iconSize:16,className:j,"aria-hidden":"true"})]});if(l>0||i){const e=Math.ceil(Math.max(r-l,0));return(0,c.jsx)("div",{className:g,children:(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:h,children:(0,c.jsx)(v.ng,{durationMs:e})})})}return(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:x,children:(0,c.jsx)(v.nL,{durationMs:r})})})(),!n&&l>0||i?(0,c.jsx)("div",{className:y,children:(0,c.jsx)(u,{current:l,max:r,isEnabled:!1})}):null]})}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map