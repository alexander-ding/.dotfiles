"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[8511],{32473:(e,t,n)=>{n.d(t,{K:()=>u});var a=n(59496),s=n(84875),o=n.n(s),r=n(55199),i=n(43018),c=n(54536);const l="G8b_VGQSxRwZSatAhUTd";var d=n(4637);const h=(0,a.lazy)((()=>n.e(4087).then(n.bind(n,84087))));function u({children:e,"data-testid":t,className:n,crossPromoVariant:s,...u}){const m=(0,a.useMemo)((()=>(0,d.jsx)(i.x,{..."to"in u?{to:u.to}:void 0,children:(0,d.jsx)(r.PodcastSponsorCallToActionButtonBase,{children:e,...u})})),[e,u]);return(0,d.jsx)("div",{className:o()(l,n),"data-testid":t,children:s&&s.buttonAction!==c.kI?(0,d.jsx)(a.Suspense,{fallback:m,children:(0,d.jsx)("div",{children:(0,d.jsx)(h,{crossPromoVariant:s,children:e,potentiallyMalformedUri:"to"in u?u.to:void 0,...u})})}):m})}},55199:(e,t,n)=>{n.r(t),n.d(t,{PodcastSponsorCallToActionButtonBase:()=>r,default:()=>i});var a=n(93163),s=n(68045),o=n(4637);function r({children:e,...t}){return(0,o.jsx)(a.D,{as:"div",...t,buttonSize:t.buttonSize||a.D.sm,children:(0,o.jsx)(s.D,{variant:"mestoBold",children:e})})}const i=r},43018:(e,t,n)=>{n.d(t,{x:()=>r});var a=n(59496),s=n(4637);const o=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,70883))));function r(e){return"to"in e?(0,s.jsx)(o,{...e}):(0,s.jsx)("div",{...e})}},27232:(e,t,n)=>{n.d(t,{G:()=>r,I:()=>o});var a=n(59496),s=n(90641);const o=e=>e?async e=>{const{adsCosmos:t}=await Promise.resolve().then(n.bind(n,72898));return await t.get(e)}:e=>fetch(e,{mode:"no-cors"});function r(e){const{isDesktop:t}=(0,s.v9)((e=>e.platform));return(0,a.useMemo)((()=>e(t)),[e,t])}},54536:(e,t,n)=>{n.d(t,{Pu:()=>s,kI:()=>a});const a="navigate",s="follow"},88511:(e,t,n)=>{n.r(t),n.d(t,{MAX_SPONSORS_TO_DISPLAY_IN_PREVIEW_IF_SOME_ARE_HIDDEN:()=>k,ShowSponsorsPreviewWithData:()=>I,default:()=>P});var a=n(59496),s=n(68045),o=n(53691),r=n(23764),i=n(84875),c=n.n(i);const l="GoBUqE90bjUv_7ndH9Fw";var d=n(4637);function h(e){return(0,d.jsx)("span",{...e,className:c()(l,e.className)})}const u="RnqjezHOt23z2EKd7j_l",m="M33ItRKEoYWPnq4DwL8n",v="KfQ2IK1i8BYSRgl3VYf4",S="Re1JThkswwaLzRdqavcO",f="uvrjZps73BZs41Z_0JcP",p="w2tPVFzE6CB2GFDWFwlE";function w({thereIsOnlyASingleShowSponsor:e,firstShowSponsor:t,showSponsorsDataThatActuallyGetDisplayedInPreview:n,numberOfHiddenSponsors:a}){return(0,d.jsxs)(s.D,{className:c()(m,{[S]:e}),children:["Sponsored by"," ",e?(0,d.jsx)(h,{children:t.metadata.advertiser}):(0,d.jsxs)(d.Fragment,{children:[n.length>2?n.slice(0,-2).flatMap(((e,t)=>[(0,d.jsx)(h,{children:e.metadata.advertiser},`advertiser ${e.metadata.creativeId||e.metadata.creative_id||e.metadata.advertiser} - ${t}`),", "])):"",a?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{children:n[n.length-2].metadata.advertiser}),","," ",(0,d.jsx)(h,{children:n[n.length-1].metadata.advertiser})," ","and more"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h,{children:n[n.length-2].metadata.advertiser})," ","and"," ",(0,d.jsx)(h,{children:n[n.length-1].metadata.advertiser})]}),"."]})]})}var g=n(76229),x=n(27232),j=n(43018);var _=n(32473),E=n(33330);const k=5;function I(e){const t={...e,fireTrackingEvent:e.fireTrackingEvent??x.I},{showSponsorsData:n,showId:i}=t,l=(0,E.D)(i),h=(0,a.useMemo)((()=>n.length>6?n.length-k:0),[n]),m=(0,a.useMemo)((()=>n.slice(0,h?k:6)),[n,h]),S=1===m.length,I=m[0],P=(0,r.s4)(),b=(0,x.G)(t.fireTrackingEvent);(0,a.useEffect)((function(){S&&m.forEach((({trackingEvents:e})=>e?.viewed.forEach(b)))}),[S,m,b]);const y=(0,a.useCallback)((async e=>P.send((0,o.createPodcastAdCtaCardEvent)({uri:t.uri,reason:"Show page",lineitem_id:m.map((e=>e.metadata.lineitemId)),...e}))),[t.uri,m,P]);(0,a.useEffect)((function(){y()}),[t.showSponsorsData,y]);const D=function({thereIsOnlyASingleShowSponsor:e,props:t,allShowSponsorsPathname:n,sendPodcastAdCtaCardEventForShowSponsorsPreview:s,firstShowSponsor:o,fireTrackingEvent:r=x.I}){const i=(0,x.G)(r);return(0,a.useMemo)((()=>{const a=c()(u,{[v]:e}),r={"--max-sponsors-to-display-in-preview":6,"--logo-size":"38px"};return e?function(e){return(0,d.jsx)(j.x,{className:a,style:r,to:o.clickthrough,...e,onClick:function(t){e.onClick?.(t),o.trackingEvents?.clicked?.forEach(i),s({ui_navigate:[o.clickthrough],navigate_to_external_uri:[!0]})}})}:function(e){return(0,d.jsx)(g.rU,{className:a,style:r,to:{pathname:n},state:t,...e,onClick:function(t){e.onClick?.(t),s({cta_card_see_all:!0})}})}}),[e,t,n,s,o,i])}({thereIsOnlyASingleShowSponsor:S,props:t,allShowSponsorsPathname:l,sendPodcastAdCtaCardEventForShowSponsorsPreview:y,firstShowSponsor:I});return(0,d.jsxs)(D,{children:[m?.map(((e,t)=>(0,d.jsx)("img",{src:e.metadata.logoImage,alt:e.metadata.advertiser,width:38,height:38,className:f},`logo image ${e.metadata.creativeId||e.metadata.creative_id||e.metadata.advertiser} - ${t}`))),h?(0,d.jsxs)(s.D,{className:p,children:["+",h]}):null,(0,d.jsx)(w,{thereIsOnlyASingleShowSponsor:S,firstShowSponsor:I,showSponsorsDataThatActuallyGetDisplayedInPreview:m,numberOfHiddenSponsors:h}),S?(0,d.jsx)(_.K,{children:I.metadata.buttonMessage}):null]})}const P=I}}]);
//# sourceMappingURL=8511.js.map