"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[2219,6542],{92073:(e,i,n)=>{n.d(i,{o:()=>c});var a=n(59496),t=n(34194),s=n(84093),l=n(89662),d=n(99194),r=n(53695),o=n(28999),m=n(4637);const c=a.memo((function({uri:e}){const{spec:i}=(0,d.T)(e);return(0,m.jsx)(l.ZP,{value:"generic",children:(0,m.jsx)(s.v,{children:(0,m.jsxs)(r.q,{divider:"before",children:[(0,m.jsx)(o.Jx,{spec:i,uri:e,displayText:t.ag.get("context-menu.copy-generic-link")}),(0,m.jsx)(o.W2,{spec:i,uri:e})]})})})}))},56542:(e,i,n)=>{n.r(i),n.d(i,{SeeAll:()=>c,default:()=>u});var a=n(59496),t=n(84875),s=n.n(t),l=n(68045),d=n(34194),r=n(70883);const o="a7lvtXATo3HALtrsOHtO";var m=n(4637);const c=(0,a.memo)((function(e){const{link:i,pageId:n,className:a,label:t,state:c,pathname:u,onClick:k}=e;return(0,m.jsx)(r.default,{to:i,className:s()(o,a),pageId:n,state:c,pathname:u,"data-testid":e["data-testid"],onClick:k,children:(0,m.jsx)(l.D,{variant:"mestoBold",children:t||d.ag.get("search.see-all")})})})),u=c},81020:(e,i,n)=>{n.d(i,{h:()=>v});var a=n(17040),t=n(16288),s=n(53434),l=n(27265),d=n(22129),r=n(8153),o=n(91388),m=n(65111),c=n(99894),u=n(46147),k=n(76946),p=n(4637);const v=({entity:e,index:i,testId:n,onClick:v,isHero:N=!1,enableTrackInternalSearch:S=!1})=>{switch(e.type){case k.p.ALBUM:return(0,p.jsx)(a.r,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,artists:e.artists,year:e.year,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case k.p.ARTIST:return(0,p.jsx)(t.I,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case k.p.AUDIOBOOK:return(0,p.jsx)(s.c,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,authorName:e.authorName,requestId:e.requestId,color:e.color},e.uri);case k.p.EPISODE:return(0,p.jsx)(d.B,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,showImages:e.show?.images||[],durationMilliseconds:e.duration.milliseconds,releaseDate:e.release.date,resume_point:null,description:e.description,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case k.p.GENRE:return(0,p.jsx)(r.s,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case k.p.PLAYLIST:return(0,p.jsx)(o.Z,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,description:"",authorName:e.owner.displayName,requestId:e.requestId,color:e.color},e.uri);case k.p.USER:return(0,p.jsx)(m.P,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,requestId:e.requestId,color:e.color},e.uri);case k.p.SHOW:return(0,p.jsx)(c._,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.images,publisher:e.publisher,sharingInfo:null,requestId:e.requestId,color:e.color},e.uri);case k.p.TRACK:return(0,p.jsx)(u.G,{testId:n,onClick:v,isHero:N,index:i,name:e.name,uri:e.uri,images:e.album?.images||[],artists:e.artists,album:S?null:e.album,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,sharingInfo:null,requestId:e.requestId,isLyricsMatch:e.isLyricsMatch,color:e.color},e.uri);default:return console.warn('Rendering SearchEntityCard using the old method <DeprecatedEntityCardByUriType /> as the entity doesn\'t contain the new "type" EntityType enum.'),(0,p.jsx)(l.q,{testId:n,onClick:v,isHero:N,index:i,entity:e})}}},47664:(e,i,n)=>{n.d(i,{q:()=>m});var a=n(61331),t=n(34194),s=n(81020);const l="x-searchHistoryEntries-searchHistoryEntry",d="x-searchHistoryEntries-clearSingleSearchHistory",r="x-searchHistoryEntries-clearSingleSearchHistoryButton";var o=n(4637);const m=({entity:e,index:i,clearSearchHistory:n})=>(0,o.jsxs)("div",{className:l,children:[(0,o.jsx)(s.h,{entity:{...e,requestId:void 0},index:i}),(0,o.jsx)("div",{className:d,children:(0,o.jsx)("button",{className:r,onClick:()=>n(e.uri),"aria-label":t.ag.get("remove"),children:(0,o.jsx)(a.k,{iconSize:16})})})]},e.uri)},81037:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Ot});var a=n(59496),t=n(84875),s=n.n(t),l=n(90641),d=n(92053),r=n(55530),o=n.n(r),m=n(83016),c=n(2962),u=n(34194),k=n(66498),p=n(94173),v=n(95848),N=n(31098),S=n(23551),y=n(16988),g=n(19139),h=n(47664),f=n(89662),x=n(77525),F=n(4637);const b=()=>{const{searchHistory:e,clearSearchHistory:i}=(0,x.u)();return 0===e.length?null:(0,F.jsx)(g.q,{index:0,id:"recent-searches",total:e.length,seeAllUri:"spotify:app:recent-searches",title:u.ag.get("search.title.recent-searches"),children:e.map(((e,n)=>(0,F.jsx)(f.ZP,{index:n,value:"search-history",children:(0,F.jsx)(h.q,{entity:e,index:n,clearSearchHistory:i})},e.uri)))})};var j=n(47871);const C="search-searchBrowse-SearchBrowse",D=()=>{const{spec:e,UBIFragment:i}=(0,y.fU)(p.createDesktopFindEventFactory,{data:{uri:"search:find"}}),{recentSearchesSpec:n,topGenresSpec:t,browseAllSpec:s}=(0,a.useMemo)((()=>({recentSearchesSpec:e.recentSearchesFactory(),topGenresSpec:e.topGenresFactory(),browseAllSpec:e.browseAllFactory()})),[e]);return(0,F.jsxs)("div",{className:C,children:[(0,F.jsx)(i,{spec:n,children:(0,F.jsx)(b,{})}),(0,F.jsx)(v.F,{property:j.Oe,renderNewExperience:()=>(0,F.jsx)(S.Tn,{browseAllSpec:s}),renderOldExperience:()=>(0,F.jsx)(N.T,{topGenresSpec:t,browseAllSpec:s})})]})};var I=n(22392),T=n(37970),A=n(75128),R=n(70883);const E=(0,a.createContext)(null),V=E.Provider;function w(){const e=(0,a.useContext)(E);if(null===e)throw new Error("Trying to use 'SearchContext' without 'SearchProvider'!");return e}var U=n(26640);const P="search-searchCategory-SearchCategory",q="search-searchCategory-container",_="search-searchCategory-wrapper",O="search-searchCategory-categoryGridItem",L=({to:e,title:i,selected:n,onClick:a})=>(0,F.jsx)(R.default,{replace:!0,to:e,tabIndex:-1,onClick:a,className:O,children:(0,F.jsx)(I.A,{selected:n,selectedColorSet:"invertedLight",tabIndex:-1,children:i})}),M=({searchCategories:e,selectedCategory:i,displayChips:n})=>{const a=(0,k.n)(),t=(0,m.W6)(j.Dz),{query:l}=w(),{spec:d,logger:r}=(0,y.fU)(T.createDesktopSearchChipsEventFactory,{});if(!l||!n)return null;const o=encodeURIComponent(l);return(0,F.jsx)("div",{className:P,children:(0,F.jsx)("div",{className:s()(q,{contentSpacing:!a}),children:(0,F.jsx)("div",{className:_,children:(0,F.jsxs)(A.l,{children:[!t&&e.length>0&&(0,F.jsx)(L,{to:`spotify:app:search:${o}`,title:u.ag.get("search.title.all"),selected:void 0===i,onClick:()=>{r.logInteraction(d.chipFactory({identifier:"all",position:0}).hitUiNavigate({destination:`spotify:app:search:${o}`}))}},"all"),e.map(((e,n)=>{const a=U.Wm[e]?.();return(0,F.jsx)(L,{to:`spotify:app:search:${o}:${e}`,title:a,selected:i===e,onClick:()=>{r.logInteraction(d.chipFactory({identifier:e,position:n+1}).hitUiNavigate({destination:`spotify:app:search:${o}:${e}`}))}},e)}))]})})})})};var H=n(69520),B=n(49959),W=n(9094),K=n(67053),G=n(76946),$=n(6518);const Z={[K.xN.Podcasts]:["podcasts","podcastAndEpisodes"],[K.xN.Episodes]:["episodes","podcastAndEpisodes"],[K.xN.TopResults]:["topResults","topResults"],[K.xN.Artists]:["artists","artists"],[K.xN.Albums]:["albums","albums"],[K.xN.Playlists]:["playlists","playlists"],[K.xN.Tracks]:["tracks","tracks"],[K.xN.Audiobooks]:["audiobooks","audiobooks"],[K.xN.Genres]:["genres","genres"],[K.xN.Users]:["users","users"]};var z=n(54838),X=n(98599),Q=n(21182),Y=n(91252),J=n(18819);const ee={albums:c.Wg.SEARCH_ALBUMS,artists:c.Wg.SEARCH_ARTISTS,episodes:c.Wg.SEARCH_EPISODES,genres:c.Wg.SEARCH_GENRES,playlists:c.Wg.SEARCH_PLAYLISTS,podcasts:c.Wg.SEARCH_SHOWS,audiobooks:c.Wg.SEARCH_AUDIOBOOKS,tracks:c.Wg.SEARCH_SONGS,users:c.Wg.SEARCH_PROFILES,podcastAndEpisodes:c.Wg.SEARCH_PODCASTS_AND_EPISODES,topResults:c.Wg.SEARCH};function ie({children:e}){const{query:i="",category:n=""}=(0,d.UO)();return(0,F.jsx)(J.K,{pageId:ee[n],entityUri:`spotify:app:search:${i}:${n}`,children:e})}function ne({children:e}){const{query:i}=(0,d.UO)();return(0,F.jsx)(J.K,{pageId:c.Wg.SEARCH,entityUri:`spotify:app:search:${i}`,children:e})}var ae=n(33393),te=n(60925),se=n(8662),le=n(46351),de=n(76229),re=n(68045),oe=n(93163),me=n(16047);const ce="hngqMWKjlLOEcuxpoHz9",ue="WjLSNZPxuT0Zuw42kxSM",ke="zFOvsuNQpwehjH2VoiLL",pe="zeGt0Z2HCYRvd6ziu_t9",ve=({forChip:e})=>{const{query:i,serpId:n}=w(),a=`/search/${i}`,t=(0,se.ix)(i).toURI(),{spec:s,logger:l}=(0,y.fU)(me.createDesktopSearchEmptyResultsEventFactory,{data:{uri:t,reason:n}}),d=(0,y.Wi)(s);return(0,F.jsxs)("div",{className:ce,"aria-live":"polite",ref:d,children:[(0,F.jsx)(re.D,{as:"h1",variant:"canon",className:ue,children:e?u.ag.get("search.empty-results-title-for-chip",i,e):u.ag.get("search.empty-results-title",i)}),(0,F.jsx)("p",{className:ke,children:u.ag.get("search.empty-results-text")}),e&&(0,F.jsx)(de.rU,{to:a,children:(0,F.jsx)(oe.D,{colorSet:"invertedLight",className:pe,onClick:()=>{l.logInteraction(s.seeAllButtonFactory().hitUiNavigate({destination:a}))},children:u.ag.get("search.see-all")})})]})};var Ne=n(65431);const Se={results:null,isError:!1,isFetchMoreError:!1},ye=(e,i)=>{const n=(0,Ne.t)(),t=(0,a.useRef)(null),s=(0,a.useRef)(0),[l,d]=(0,a.useState)(Se),r=(0,a.useCallback)((async(a=!1)=>{if(!n())return;a&&(s.current=0,t.current=null);let l=e;if(null!==t.current){if(s.current>=t.current)return;s.current+l>t.current&&(l=t.current-s.current)}try{const e=await i(s.current,l);s.current+=l,t.current=e.totalCount||0,n()&&d((i=>({isError:!1,isFetchMoreError:!1,results:(a||null===i.results?[]:i.results).concat(e.items)})))}catch(e){n()&&d((e=>{const i=null===e.results||a;return{results:a?[]:e.results,isError:i,isFetchMoreError:!i}}))}}),[e,i,n]);return(0,a.useEffect)((()=>{r(!0)}),[r]),{results:l.results,isError:l.isError,fetchData:r,totalCountRef:t}};var ge=n(90258),he=n(7426),fe=n(48944),xe=n(22259),Fe=n(15142),be=n(10022);const je=a.memo((function({uri:e,size:i=xe.q.md,className:n,onClick:t,showUpsell:s}){const[l,d]=(0,Fe.Z)(e),r=(0,be.o)(),o=(0,a.useCallback)((()=>{r({targetUri:e,intent:"add-to-library",type:"click"}),d(!0)}),[r,e,d]);return(0,F.jsx)(xe.o,{className:n,isFollowing:l,onFollow:o,onClick:t,uri:e,size:i,showUpsell:s})})),Ce="RTP39YFgFAoVSlly6vCF",De="QT1jLaHHvO5g2YQor2Fw",Ie="wArYyZVjFviopRvRFV8t",Te="kRDD8AcqeOf5UDjOSQ8j",Ae="XN4TCZATPrKkEMngUtFc",Re="VYaCpehPPhmTYPRxMBub",Ee="abMqJCpsuShBo0DaZ7IY",Ve="ON88h0KYGqXMdOfsqot8",we="BHFMWOZUKxElyq1Ffc_S",Ue="EyH4QLenIbFw0x8r83eK",Pe="JA9jP30dm3GJikfs7vBn",qe="xKl_2100SG4svBvzZ8Xv",_e="leel3U31UlOaYhKp6FgQ",Oe="FxqpfDsISPKNu1XFExOg",Le="kE234isNxJ9XiTT8QoJL",Me="KcOp4A5HBQ4EPH0IDRxg",He="oODk_3Glvh7wotUlk4ov";var Be=n(33482);const We=({uri:e,spec:i})=>{const n=(0,y.$P)(),t=(0,a.useCallback)(((a,t)=>{(0,Be.l7)(t,i.downloadButtonFactory(),n,e)}),[n,i,e]);return(0,F.jsx)(je,{className:Te,uri:e,size:xe.q.xs,showUpsell:!1,onClick:t})};var Ke=n(6496),Ge=n(54095);const $e=({shape:e=Ke.K.ROUNDED_CORNERS,type:i,name:n,images:a})=>(0,F.jsx)(Ke.O,{shape:e,size:Ge.m$.SIZE_64,images:a,type:i,title:n});var Ze=n(10707),ze=n(91012);const Xe=(0,a.createContext)((()=>{})),Qe=({menu:e,name:i,spec:n})=>{const t=(0,y.$P)(),s=(0,a.useContext)(Xe),l=(0,a.useCallback)((()=>{t.logInteraction(n.contextButtonFactory().hitUiReveal()),s(!0)}),[t,s,n]),d=(0,a.useCallback)((()=>{s(!1)}),[s]);return(0,F.jsx)(ze.yj,{menu:e,onShow:l,onHide:d,children:(0,F.jsx)(Ze.z,{className:Ae,size:Ze.q.sm,label:u.ag.get("more.label.context",i)})})};var Ye=n(46930);const Je=({name:e,uri:i,spec:n})=>{const t=(0,y.$P)(),s=(0,a.useCallback)((()=>{t.logInteraction(n.titleLinkFactory({uri:i}).hitUiNavigate({destination:i}))}),[t,n,i]);return(0,F.jsx)(Ye.w,{label:e,children:(0,F.jsx)(R.default,{to:i,className:we,onClick:s,children:(0,F.jsx)(re.D,{variant:"balladBold",semanticColor:"textBase",className:Ue,children:e})})})};var ei=n(16442),ii=n(17657),ni=n(13438),ai=n(34726),ti=n(34025),si=n(59458),li=n(70134);const di=a.forwardRef((function({children:e,isLocked:i=!1,uri:n,playAriaLabel:t,spec:l},d){const[r,o]=(0,a.useState)(!1),m=(0,y.$P)(),{isPlaying:c,isActive:u,togglePlay:k}=(0,li.n)({uri:n},{featureIdentifier:"search"}),p=(0,ii.y1)((e=>{if(e.preventDefault(),e.detail>0&&e.currentTarget&&e.currentTarget.blur(),i)m.logInteraction(l.playbackButtonFactory().hitShowPaywall({paywalledItem:n}));else{const e=(0,Be.aK)({isPlaying:c,isActive:u,spec:l.playbackButtonFactory(),logger:m,uri:n});k({loggingParams:e})}}),ti.s_,{leading:!0,trailing:!1});(0,a.useEffect)((()=>{const e=()=>{o(!0)},i=()=>{o(!1)};return c&&(o(document.hasFocus()),window.addEventListener("focus",e),window.addEventListener("blur",i)),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",i)}}),[c]);const v=!(0,si.T)()&&r;return(0,F.jsxs)("div",{className:s()(Pe),children:[c?(0,F.jsx)("img",{className:Ee,width:"14",height:"14",alt:"",src:(0,ni.g)(v?"images/equaliser-animated-green.gif":"images/equaliser-green.svg")}):e,(0,F.jsx)(ai.I,{className:Re,iconClassName:Me,onClick:p,isPlaying:c,isLocked:i,playAriaLabel:t,ref:d})]})}));var ri=n(31747);const oi="kwJGggri7IZMFvQEClUf",mi="yt0QcQy0t7LfbeVaEJG_",ci="WHMDRepGVQXXrTx3838g",ui="wLoqasagmgNF8ULGMhil",ki="cpC_03FZN3i93V8j3g0l",pi="S7CXd4i9huhWL_kPV_e3",vi="c85eTWJAYaGjCiwH1WDu",Ni="cTTgGuDbNSWllHjVqiUx",Si=({className:e,leading:i,media:n,pretitle:a,title:t,subtitle:l,body:d,footer:r,trailing:o,onContextMenu:m,onTouchStart:c,onTouchEnd:u,onDragStart:k,onDoubleClick:p})=>{const v=(0,ri.jh)();return(0,F.jsxs)("div",{className:s()(e,oi),onContextMenu:m,onTouchStart:c,onTouchEnd:u,draggable:!0,onDragStart:k,onDoubleClick:p,children:[i?(0,F.jsx)("div",{className:mi,children:i}):null,n?(0,F.jsx)("div",{className:ci,children:n}):null,(0,F.jsxs)("div",{className:ui,children:[a?(0,F.jsx)("div",{children:a}):null,t?(0,F.jsx)("div",{className:vi,children:t}):null,l?(0,F.jsx)("div",{className:Ni,children:l}):null,d?(0,F.jsx)("div",{children:d}):null,r?(0,F.jsx)("div",{children:r}):null]}),o?(0,F.jsx)("div",{className:s()(ki,{[pi]:v===ri.Uo.MEDIUM}),children:o}):null]})};var yi=n(46779);const gi=e=>void 0!==e;const hi=({uri:e,destinationUri:i=e,name:n,createdBy:t,menu:l,media:d,leading:r,title:o,subtitle:m,body:c,trailing:u,onClick:k,spec:p})=>{const{isActive:v}=(0,ei.cR)(e),N=(0,y.$P)(),S=(0,a.useCallback)((()=>{N.logInteraction(p.secondaryHitUiReveal())}),[N,p]),g=(0,a.useCallback)((e=>{e.isDefaultPrevented()||(N.logInteraction(p.hitUiNavigate({destination:i})),k(e))}),[N,k,p,i]),h=function(e,i){if(e!==i)return`?highlight=${e}`}(e,i),f=(0,y.Wi)(p),x=((e,i,n)=>{const t=(0,yi.O1)();return(0,a.useCallback)((a=>{if(a.target!==a.currentTarget)return;const s=[i,n].filter(gi).join(" • ");t(a,[e],s,void 0,void 0)}),[t,n,i,e])})(e,n,t),[b,j]=(0,a.useState)(!1);return(0,F.jsx)(Xe.Provider,{value:j,children:(0,F.jsx)(ze._P,{menu:l,onShow:S,children:(0,F.jsx)(R.default,{to:i,search:h,tabIndex:-1,onClick:g,className:Ce,"data-context-menu-open":b.toString(),ref:f,children:(0,F.jsx)(Si,{leading:r||!0,title:o,subtitle:m,body:c,trailing:u,media:d,className:s()(De,{[Ve]:v}),onDragStart:x})})})})};var fi=n(96726),xi=n(40805);const Fi=({uri:e,type:i,spec:n})=>{const t=(0,y.$P)(),s=(0,a.useCallback)((i=>{const a=i?n.heartButtonFactory().hitLike({itemToBeLiked:e}):n.heartButtonFactory().hitRemoveLike({itemNoLongerLiked:e});t.logInteraction(a)}),[n,t,e]);return["episode","audiobook"].includes(i)?(0,F.jsx)(fi.w,{uri:e,className:Ie,onClick:s}):(0,F.jsx)(xi.B,{uri:e,className:Ie,onClick:s})};var bi=n(30547),ji=n(74253),Ci=n(44762),Di=n(81706),Ii=n(89161);const Ti=({children:e,uri:i,name:n,index:t,menu:s,spec:l})=>{const d=(0,yi.O1)([i],n),r=(0,y.$P)(),o=(0,a.useCallback)((()=>{const e=l.subtitleLinkFactory({uri:i,position:t}).hitUiNavigate({destination:i});r.logInteraction(e)}),[t,r,l,i]);return(0,F.jsx)(Ii._,{menu:s,children:(0,F.jsx)(Ye.w,{label:n,children:(0,F.jsx)(R.default,{draggable:!0,to:i,onDragStart:d,dir:"auto",onClick:o,children:e})})})},Ai=({artists:e,spec:i})=>e?(0,F.jsx)(F.Fragment,{children:e.map((({uri:e,name:n},a)=>[a>0&&u.ag.getSeparator(),(0,F.jsx)(Ti,{name:n,uri:e,index:a,menu:(0,F.jsx)(bi.m,{uri:e}),spec:i,children:n},e)]))}):null,Ri=({topics:e=[],spec:i})=>0===e.length?null:(0,F.jsx)(F.Fragment,{children:e.filter(Di.J).map((({uri:e,title:n},a)=>[a>0&&u.ag.getSeparator(),(0,F.jsx)(Ti,{name:n,uri:e,index:a,spec:i,children:n},e)]))}),Ei=({show:e,spec:i})=>(0,F.jsx)(Ti,{name:e.name,uri:e.uri,index:0,menu:(0,F.jsx)(ji.M,{uri:e.uri}),spec:i,children:e.name}),Vi=({uri:e,name:i,spec:n})=>(0,F.jsx)(Ti,{name:i,uri:e,index:0,menu:(0,F.jsx)(Ci.I,{uri:e}),spec:n,children:i}),wi=a.memo((function({album:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,year:o,artists:m}=e,c=m[0].name,{spec:k}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:p}=(0,ei.cR)(s),v=(0,F.jsx)(fe.Y,{uri:s});return(0,F.jsx)(hi,{spec:k,menu:v,uri:s,name:d,createdBy:m.map((e=>e.name)).join(u.ag.getSeparator()),onClick:i,media:(0,F.jsx)($e,{type:l,name:d,images:r}),leading:(0,F.jsx)(di,{isLocked:!1,uri:s,spec:k,playAriaLabel:p?u.ag.get("pause"):u.ag.get("tracklist.a11y.play",d,c)}),title:(0,F.jsx)(Je,{name:d,uri:s,spec:k}),subtitle:(0,F.jsxs)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,F.jsx)(re.D,{className:Le,children:u.ag.get("card.tag.album")}),(0,F.jsx)(re.D,{className:Le,children:(0,F.jsx)(Ai,{artists:m,spec:k})})]}),body:(0,F.jsx)(re.D,{variant:"mesto",semanticColor:"textSubdued",children:o}),trailing:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(We,{uri:s,spec:k}),(0,F.jsx)(Fi,{uri:s,type:"album",spec:k}),(0,F.jsx)(Qe,{menu:v,name:d,spec:k})]})})}));var Ui=n(92507);const Pi=a.memo((function({artist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,verified:o}=e,{spec:m}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:c}=(0,ei.cR)(s),k=(0,F.jsx)(bi.m,{uri:s});return(0,F.jsx)(hi,{spec:m,menu:k,uri:s,name:d,onClick:i,media:(0,F.jsx)($e,{type:l,name:d,images:r}),leading:(0,F.jsx)(di,{isLocked:!1,uri:s,spec:m,playAriaLabel:c?u.ag.get("playlist.a11y.play",d):u.ag.get("pause")}),title:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Je,{name:d,uri:s,spec:m}),o&&(0,F.jsx)(Ui.S,{iconSize:16})]}),subtitle:a&&(0,F.jsx)(re.D,{variant:"mesto",semanticColor:"textSubdued",children:u.ag.get("card.tag.artist")}),trailing:(0,F.jsx)(Qe,{menu:k,name:d,spec:m})})}));var qi=n(19525),_i=n(22005);const Oi=a.memo((function({book:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,authorName:o,publishDate:m,topics:c}=e,{spec:k}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),p=(0,F.jsx)(qi.X,{uri:s}),v=c&&c.length>0;return(0,F.jsx)(hi,{spec:k,menu:p,uri:s,name:d,onClick:i,media:(0,F.jsx)($e,{type:l,name:d,images:r}),title:(0,F.jsx)(Je,{name:d,uri:s,spec:k}),subtitle:(0,F.jsxs)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,F.jsx)(re.D,{className:Le,children:u.ag.get("search.row.subtitle")}),(0,F.jsx)(Ye.w,{label:o,children:(0,F.jsx)(re.D,{className:Le,children:o})})]}),body:(0,F.jsxs)(F.Fragment,{children:[m&&(0,F.jsx)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:(0,_i.rL)((0,_i.RX)(m.toISOString()))}),v&&(0,F.jsx)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:(0,F.jsx)(Ri,{topics:c,spec:k})})]}),trailing:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Fi,{uri:s,type:"audiobook",spec:k}),(0,F.jsx)(Qe,{menu:p,name:d,spec:k})]})})}));var Li=n(89553),Mi=n(56005),Hi=n(99727),Bi=n(27344),Wi=n(21298),Ki=n(20482);const Gi=a.memo((function({episode:e,onClick:i,index:n,withEntityTag:t=!1}){const{requestId:l,uri:d,type:r,name:o,images:m,show:c,release:k,duration:p,isExplicit:v,is19PlusOnly:N,timeLeft:S}=e,{logger:g,spec:h}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:l??"",uri:d}}),{isPlaying:f}=(0,ei.cR)(d),x=(0,a.useCallback)(((e,i)=>{(0,Be.l7)(i,h.downloadButtonFactory(),g,d)}),[g,h,d]),b=(0,F.jsx)(Hi.k,{uri:d});return(0,F.jsx)(hi,{spec:h,menu:b,uri:d,name:o,createdBy:c?.name||void 0,onClick:i,media:(0,F.jsx)($e,{type:r,name:o,images:m}),leading:(0,F.jsx)(di,{isLocked:!1,uri:d,spec:h,playAriaLabel:f?u.ag.get("pause"):c?u.ag.get("tracklist.a11y.play",o,c.publisher):u.ag.get("playlist.a11y.play",o)}),title:(0,F.jsx)(Je,{name:o,uri:d,spec:h}),subtitle:(0,F.jsxs)(F.Fragment,{children:[v&&(0,F.jsx)(Bi.N,{}),N&&(0,F.jsx)(Wi.X,{size:16}),(0,F.jsxs)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[t&&(0,F.jsx)(re.D,{children:u.ag.get("card.tag.episode")}),c&&(0,F.jsx)(re.D,{className:Le,children:(0,F.jsx)(Ei,{show:c,spec:h})})]})]}),body:(0,F.jsxs)(F.Fragment,{children:[k.date&&(0,F.jsx)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:Le,children:(0,_i.rL)((0,_i.RX)(k.date))}),(0,F.jsx)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:s()(Le,qe),children:S.milliseconds>0?(0,F.jsx)(Ki.n,{durationMs:p.milliseconds}):(0,F.jsxs)(re.D,{className:_e,children:[u.ag.get("episode.played"),(0,F.jsx)(Li.N,{iconSize:16,className:Oe,"aria-hidden":"true"})]})})]}),trailing:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Mi.p,{className:Te,uri:d,size:Mi.q.xs,showUpsell:!1,onClick:x}),(0,F.jsx)(Fi,{uri:d,type:"episode",spec:h}),(0,F.jsx)(Qe,{menu:b,name:o,spec:h})]})})}));var $i=n(92073);const Zi=a.memo((function({genre:e,onClick:i,index:n}){const{requestId:a,uri:t,type:s,name:l,images:d}=e,{spec:r}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:a??"",uri:t}});return(0,F.jsx)(hi,{spec:r,menu:(0,F.jsx)($i.o,{uri:t}),uri:t,name:l,onClick:i,media:(0,F.jsx)($e,{type:s,name:l,images:d}),title:(0,F.jsx)(Je,{name:l,uri:t,spec:r})})}));var zi=n(30930);const Xi=a.memo((function({playlist:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r,owner:o}=e,{spec:m}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:c}=(0,ei.cR)(s),k=o.displayName?u.ag.get("tracklist.a11y.play",d,o.displayName):u.ag.get("play"),p=(0,F.jsx)(zi.X,{uri:s});return(0,F.jsx)(hi,{spec:m,menu:p,uri:s,name:d,createdBy:o.displayName??void 0,onClick:i,media:(0,F.jsx)($e,{type:l,name:d,images:r}),leading:(0,F.jsx)(di,{isLocked:!1,uri:s,spec:m,playAriaLabel:c?u.ag.get("pause"):k}),title:(0,F.jsx)(Je,{name:d,uri:s,spec:m}),subtitle:(0,F.jsxs)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,F.jsx)(re.D,{className:Le,children:u.ag.get("card.tag.playlist")}),o.displayName&&(0,F.jsx)(re.D,{className:Le,children:(0,F.jsx)(Vi,{uri:o.uri,name:u.ag.get("search.playlist-by",o.displayName),spec:m})})]}),trailing:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(We,{uri:s,spec:m}),(0,F.jsx)(Fi,{uri:s,type:"playlist",spec:m}),(0,F.jsx)(Qe,{menu:p,name:d,spec:m})]})})})),Qi=a.memo((function({show:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:l,type:d,name:r,images:o,publisher:m,topics:c}=e,{spec:k}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:l}}),p=(0,F.jsx)(ji.M,{uri:l});return(0,F.jsx)(hi,{spec:k,menu:p,uri:l,name:r,onClick:i,media:(0,F.jsx)($e,{type:d,name:r,images:o}),title:(0,F.jsx)(Je,{name:r,uri:l,spec:k}),subtitle:(0,F.jsxs)(re.D,{variant:"mesto",semanticColor:"textSubdued",children:[(0,F.jsxs)("div",{children:[a&&(0,F.jsx)(re.D,{className:Le,children:u.ag.get("card.tag.show")}),(0,F.jsx)(re.D,{className:s()(Le),children:m})]}),(0,F.jsx)("div",{children:(0,F.jsx)(re.D,{className:s()(Le,He),children:(0,F.jsx)(Ri,{topics:c,spec:k})})})]}),trailing:(0,F.jsx)(Qe,{menu:p,name:r,spec:k})})}));var Yi=n(22559);const Ji=a.memo((function({track:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,artists:r,album:o,isExplicit:m,is19PlusOnly:c}=e,k=r[0].name,{spec:p}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),{isPlaying:v}=(0,ei.cR)(s),N=(0,F.jsx)(Yi.$,{uri:s});return(0,F.jsx)(hi,{spec:p,uri:s,destinationUri:o?.uri||void 0,menu:N,name:d,createdBy:r.map((e=>e.name)).join(u.ag.getSeparator()),onClick:i,media:(0,F.jsx)($e,{type:l,name:d,images:o?.images||[]}),leading:(0,F.jsx)(di,{isLocked:!1,uri:s,spec:p,playAriaLabel:v?u.ag.get("pause"):u.ag.get("tracklist.a11y.play",d,k)}),title:(0,F.jsx)(Je,{name:d,uri:s,spec:p}),subtitle:(0,F.jsxs)(F.Fragment,{children:[m&&(0,F.jsx)(Bi.N,{}),c&&(0,F.jsx)(Wi.X,{size:16}),(0,F.jsxs)(re.D,{variant:"mesto",semanticColor:"textSubdued",className:He,children:[a&&(0,F.jsx)(re.D,{children:u.ag.get("card.tag.track")}),(0,F.jsx)(re.D,{className:Le,children:(0,F.jsx)(Ai,{artists:r,spec:p})})]})]}),trailing:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Fi,{uri:s,type:"track",spec:p}),(0,F.jsx)(Qe,{menu:N,name:d,spec:p})]})})})),en=a.memo((function({user:e,onClick:i,index:n,withEntityTag:a=!1}){const{requestId:t,uri:s,type:l,name:d,images:r}=e,{spec:o}=(0,y.fU)(he.createDesktopSearchRowEventFactory,{data:{position:n,reason:t??"",uri:s}}),m=(0,F.jsx)(Ci.I,{uri:s});return(0,F.jsx)(hi,{spec:o,menu:m,uri:s,name:d,onClick:i,media:(0,F.jsx)($e,{type:l,name:d,images:r,shape:Ke.K.CIRCLE}),title:(0,F.jsx)(Je,{name:d,uri:s,spec:o}),subtitle:a&&(0,F.jsx)(re.D,{variant:"mesto",semanticColor:"textSubdued",children:u.ag.get("card.tag.profile")}),trailing:(0,F.jsx)(Qe,{menu:m,name:d,spec:o})})})),nn=({entity:e,index:i,withEntityTag:n})=>{const{onAddToHistory:t}=w(),s=(0,a.useCallback)((()=>{t(e)}),[e,t]);switch(e.type){case G.p.ALBUM:return(0,F.jsx)(wi,{album:e,onClick:s,index:i,withEntityTag:n});case G.p.ARTIST:return(0,F.jsx)(Pi,{artist:e,onClick:s,index:i,withEntityTag:n});case G.p.AUDIOBOOK:return(0,F.jsx)(Oi,{book:e,onClick:s,index:i,withEntityTag:n});case G.p.EPISODE:return(0,F.jsx)(Gi,{episode:e,onClick:s,index:i,withEntityTag:n});case G.p.GENRE:return(0,F.jsx)(Zi,{genre:e,onClick:s,index:i});case G.p.PLAYLIST:return(0,F.jsx)(Xi,{playlist:e,onClick:s,index:i,withEntityTag:n});case G.p.USER:return(0,F.jsx)(en,{user:e,onClick:s,index:i,withEntityTag:n});case G.p.SHOW:return(0,F.jsx)(Qi,{show:e,onClick:s,index:i,withEntityTag:n});case G.p.TRACK:return(0,F.jsx)(Ji,{track:e,onClick:s,index:i,withEntityTag:n});default:return(0,ge._)(e),null}};var an=n(49481),tn=n(94958);const sn="FSAE0ABtUCeNRJckpcCH",ln="H2PDjUgJNBIH5eWg59M0",dn="vRlEuZATPhZt2l04RVIw",rn="Adlh7XTc3j3pXM3jGgr8",on=({index:e,item:i})=>{const{episode:n,show:a}=i,{usePlayContextItem:t}=(0,li.n)({uri:i.episode.uri},{featureIdentifier:"search",referrerIdentifier:"search"});return(0,F.jsxs)("div",{className:rn,children:[(0,F.jsx)(tn.V,{index:e,episode:n,showMetadata:a,usePlayContextItem:t}),(0,F.jsx)("hr",{className:dn,"aria-hidden":!0})]})},mn=({showTitle:e=!0,displayEmptyPageOnEmptyResults:i=!0,displayError:n=!0,enableInfiniteScroll:a=!1,fetchData:t,totalCountRef:l,items:d,isError:r,isSearchV3Enabled:o})=>{const{query:m,serpId:c}=w(),u=(0,se.ix)(m).toURI(),{ref:k,breakpoint:p}=(0,ri.Db)({[ri.Uo.MEDIUM]:0,[ri.Uo.LARGE]:600}),v=(0,y.$P)(),N=`spotify:app:search:${encodeURIComponent(m)}:${Un}`,{spec:S,UBIFragment:g}=(0,y.fU)(te.m,{data:{uri:u,reason:c}});return r?n?(0,F.jsx)(ae.p,{}):null:0===l.current?i?(0,F.jsx)(g,{spec:S.emptyResultsFactory(),children:(0,F.jsx)(ve,{forChip:U.Wm.episodes()})}):null:(0,F.jsxs)(ri.ZU.Provider,{value:p,children:[d&&e&&(0,F.jsx)(le.r,{title:U.Wm.episodes(),seeAllUri:N,onClickTitle:()=>{S&&v.logInteraction(S.episodesListFactory().episodesListHeaderFactory().titleFactory().hitUiNavigate({destination:N}))},onClickSeeAll:()=>{S&&v.logInteraction(S.episodesListFactory().episodesListHeaderFactory().seeAllLinkFactory().hitUiNavigate({destination:N}))},hasMoreElements:!a&&d.length<(l.current||0)}),(0,F.jsx)("div",{ref:k,className:ln,children:d&&(0,F.jsx)(an.C,{triggerOnInitialLoad:!1,className:s()({[sn]:o}),onReachBottom:()=>{a&&t()},children:d})})]})},cn=e=>{const{query:i,api:n}=w(),{results:t,isError:s,fetchData:l,totalCountRef:d}=ye(30,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"episodes",!1,e,a)),[n,i]));return(0,F.jsx)(mn,{...e,fetchData:l,totalCountRef:d,items:t?.map(((e,i)=>(0,F.jsx)(nn,{entity:e,index:i},i))),isError:s,isSearchV3Enabled:!0})},un=e=>{const{query:i,api:n}=w(),{results:t,isError:s,fetchData:l,totalCountRef:d}=ye(30,(0,a.useCallback)(((e,a)=>n.getFullEpisodes(i,e,a)),[n,i]));return(0,F.jsx)(mn,{...e,fetchData:l,totalCountRef:d,items:t?.map(((e,i)=>(0,F.jsx)(on,{item:e,index:i},i))),isError:s})},kn=e=>(0,m.W6)(j.Dz)?(0,F.jsx)(cn,{...e}):(0,F.jsx)(un,{...e});var pn=n(81020);const vn=e=>{const{title:i,category:n,query:a,results:t,onAddToHistory:s,position:l,showSeeAll:d}=e;if(!t)return null;const{items:r,totalCount:o}=t;return r&&0!==r.length?(0,F.jsx)(g.q,{index:l,id:n,total:o||0,title:i,testId:`${n}-search-entity`,seeAllUri:`spotify:app:search:${encodeURIComponent(a)}:${n}`,showSeeAll:d,children:r.map(((e,i)=>(0,F.jsx)(f.ZP,{value:n,index:i,children:(0,F.jsx)(pn.h,{onClick:()=>s(e),entity:e,index:i})},e.uri)))}):null},Nn="pE9ccpPiPFWfTWfDdKT_",Sn=({results:e})=>{const{query:i,serpId:n,onAddToHistory:a}=w(),t=(0,se.ix)(i).toURI(),{spec:s,UBIFragment:l}=(0,y.fU)(te.m,{data:{uri:t,reason:n}});return 0===e?.podcasts.totalCount&&0===e?.episodes.totalCount?(0,F.jsx)(l,{spec:s.emptyResultsFactory(),children:(0,F.jsx)(ve,{forChip:U.Wm.podcastAndEpisodes()})}):(0,F.jsx)(l,{spec:s,children:(0,F.jsxs)("div",{className:Nn,children:[0!==e?.podcasts.totalCount&&(0,F.jsx)("div",{children:(0,F.jsx)(vn,{position:0,category:"podcasts",title:U.Wm.podcastAndEpisodes(),query:i,results:e?.podcasts,onAddToHistory:a})}),0!==e?.episodes.totalCount&&(0,F.jsx)("div",{children:(0,F.jsx)(kn,{displayEmptyPageOnEmptyResults:!1,displayError:!1})})]})})};var yn=n(16328);const gn="bCoyoXohuLs0f6urF2PD",hn="EF2m35WFubo6yUwP04MQ",fn=({displayChips:e,category:i})=>{const{query:n,api:t,serpId:l,onAddToHistory:d}=w(),{results:r,isError:o,fetchData:m,totalCountRef:c}=ye(30,(0,a.useCallback)(((e,a)=>t.getSearchCategoryResults(n,i,!0,e,a)),[t,i,n])),u=(0,a.useCallback)(((e,i)=>(0,F.jsx)(f.ZP,{value:"card",index:i,children:(0,F.jsx)(pn.h,{entity:e,onClick:()=>d(e),testId:`search-category-card-${i}`,index:i})},`${e.uri}-${i}`)),[d]),k=(0,se.ix)(n).toURI(),{spec:p,UBIFragment:v}=(0,y.fU)(yn.N,{data:{uri:k,identifier:i,reason:l}}),N=(0,a.useMemo)((()=>p.cardsFactory()),[p]),S=(0,a.useMemo)((()=>p.emptyResultsFactory()),[p]);return o?(0,F.jsx)(ae.p,{}):0===c.current?(0,F.jsx)(v,{spec:S,children:(0,F.jsx)(ve,{forChip:U.Wm[i]()})}):(0,F.jsx)(v,{spec:N,children:(0,F.jsx)("div",{className:s()(gn,{[hn]:e}),children:r&&(0,F.jsx)(an.C,{onReachBottom:m,triggerOnInitialLoad:!1,children:(0,F.jsx)(X.T,{render:()=>r.map(((e,i)=>u(e,i)))})})})})};var xn=n(7546),Fn=n(42455),bn=n(7881),jn=n(49706),Cn=n(58063);const Dn="BSIos9yETsaI3yKEqX2P",In=({pageSize:e=100})=>{if(e>100)throw new Error("PathFinder does not support page sizes > 100");const{query:i,api:n,serpId:t}=w(),{results:s,isError:l,fetchData:d,totalCountRef:r}=ye(e,(0,a.useCallback)(((e,a)=>n.getSearchCategoryResults(i,"tracks",!1,e,a)),[n,i])),o=(0,a.useCallback)(((e,i)=>{const n=(0,jn.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,F.jsx)(Cn.e9,{index:i,uri:(0,bn.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},i+e.uri)}),[]),m=(0,k.n)(),c=(0,a.useMemo)((()=>[Cn.QD.INDEX,Cn.QD.TITLE,Cn.QD.ALBUM,Cn.QD.DURATION]),[]),p=(0,a.useCallback)((e=>e.uri),[]),v=(0,se.ix)(i).toURI(),{spec:N,UBIFragment:S}=(0,y.fU)(xn.h,{data:{uri:v,reason:t}}),g=(0,a.useMemo)((()=>N.tracksFactory()),[N]),h=u.ag.get("search.showing-category-query-songs",i);if(l)return(0,F.jsx)(ae.p,{});if(0===r.current)return(0,F.jsx)(S,{spec:N.emptyResultsFactory(),children:(0,F.jsx)(ve,{forChip:U.Wm.podcastAndEpisodes()})});const x=m?Fn.K1:Fn.K1+48;return(0,F.jsx)(S,{spec:g,children:(0,F.jsx)(f.ZP,{value:"search-results-tracklist",children:(0,F.jsx)("div",{className:Dn,children:s&&(0,F.jsx)(an.C,{triggerOnInitialLoad:!1,onReachBottom:d,children:(0,F.jsx)(Cn.Pv,{ariaLabel:h,hasHeaderRow:!0,columns:c,renderRow:o,resolveUri:p,nrTracks:s.length,headerTop:x,tracks:s})})})})})},Tn="hciep85bysUuJqNoK7uw",An="Xa3KEcm2U_GOL2KMSoHw",Rn="KjXzXFYQr6Wp2QlxPUAY",En=({category:e})=>{const{query:i,api:n,serpId:t}=w(),{results:l,isError:d,fetchData:r,totalCountRef:o}=ye(50,(0,a.useCallback)(((a,t)=>n.getSearchCategoryResults(i,e,!0,a,t)),[n,e,i])),m=(0,se.ix)(i).toURI(),{spec:c,UBIFragment:u}=(0,y.fU)(yn.N,{data:{uri:m,identifier:e,reason:t}}),{ref:k,breakpoint:p}=(0,ri.Db)({[ri.Uo.MEDIUM]:0,[ri.Uo.LARGE]:600}),v=(0,a.useMemo)((()=>c.cardsFactory()),[c]);if(d)return(0,F.jsx)(ae.p,{});if(0===o.current)return(0,F.jsx)(u,{spec:c.emptyResultsFactory(),children:(0,F.jsx)(ve,{forChip:U.Wm[e]()})});const N="episodes"===e||"podcasts"===e,S="topResults"===e;return(0,F.jsx)(u,{spec:v,children:(0,F.jsx)(ri.ZU.Provider,{value:p,children:(0,F.jsx)("div",{ref:k,className:s()(Tn,{[Rn]:N}),children:l&&(0,F.jsx)(an.C,{onReachBottom:r,triggerOnInitialLoad:!1,className:An,children:l.map(((e,i)=>(0,F.jsx)(nn,{entity:e,index:i,withEntityTag:S},e.uri)))})})})})},Vn=({results:e,hasResults:i})=>{const{query:n,serpId:t}=w(),s=(0,se.ix)(n).toURI(),{spec:l,UBIFragment:d}=(0,y.fU)(yn.N,{data:{uri:s,identifier:"topResults",reason:t}}),{ref:r,breakpoint:o}=(0,ri.Db)({[ri.Uo.MEDIUM]:0,[ri.Uo.LARGE]:600}),m=(0,a.useMemo)((()=>l.cardsFactory()),[l]);return e&&i||l.emptyResultsFactory(),(0,F.jsx)(d,{spec:m,children:(0,F.jsx)(ri.ZU.Provider,{value:o,children:(0,F.jsx)("div",{ref:r,className:Tn,children:e&&(0,F.jsx)(an.C,{triggerOnInitialLoad:!1,className:An,children:e.topResults.items.map(((e,i)=>(0,F.jsx)(nn,{entity:e,index:i,withEntityTag:!0},e.uri)))})})})})},wn="podcastAndEpisodes",Un="episodes",Pn=({results:e,hasResults:i,displayChips:n})=>{const{category:a}=w(),t=(0,m.W6)(j.Dz);return a?a===wn?(0,F.jsx)(Sn,{results:e}):t?"topResults"===a?(0,F.jsx)(Vn,{results:e,hasResults:i}):(0,F.jsx)(En,{category:a}):"tracks"===a?(0,F.jsx)(In,{}):a===Un?(0,F.jsx)(kn,{enableInfiniteScroll:!0,showTitle:!1}):(0,F.jsx)(fn,{displayChips:n,category:a}):(0,F.jsx)(ae.p,{})};var qn=n(38412),_n=n(3109),On=n(20089);const Ln=a.memo((function({tracks:e,query:i}){const n=(0,a.useCallback)(((e,i)=>{const n=(0,jn.X)(e.album?.images,{desiredSize:40}),a=!(!1===e.isPlayable);return(0,F.jsx)(Cn.pt,{uri:(0,bn.$)(e),duration:e.duration,name:e.name,album:e.album||void 0,artists:e.artists,isPlayable:a,isExplicit:e.isExplicit,is19PlusOnly:e.is19PlusOnly,index:i,imgUrl:n?.url||"",requestId:e.requestId,isLyricsMatch:e.isLyricsMatch},e.uri)}),[]),t=(0,a.useMemo)((()=>[Cn.QD.TITLE,Cn.QD.DURATION]),[]),s=(0,a.useCallback)((e=>e.uri),[]);return e&&(0,F.jsx)(f.ZP,{value:"search-results-tracklist",children:(0,F.jsx)(Cn.Pv,{ariaLabel:u.ag.get("search.a11y.songs-search-results"),renderRow:n,rowPlaceholder:Cn.hU,nrTracks:Math.min(e.length,4),tracks:e,resolveUri:s,columns:t},i)})}),((e,i)=>e.tracks===i.tracks));var Mn=n(56542);const Hn="search-searchResult-tracklistHeader",Bn="search-searchResult-tracklistHeaderWrapper",Wn="search-searchResult-tracklistHeaderText",Kn="VL6wjp4Br_D3FEWrUGGR",Gn="search-searchResult-tracklistContainer",$n="search-searchResult-tracklist",Zn=({tracks:e,query:i,className:n,showSeeAll:t=!0,spec:l})=>{const d=(0,y.$P)(),r=(0,a.useCallback)((()=>(0,F.jsx)("div",{className:$n,children:(0,F.jsx)(a.Suspense,{fallback:null,children:(0,F.jsx)(Ln,{tracks:e.items,query:i})})})),[i,e]),o=`spotify:app:search:${encodeURIComponent(i)}:tracks`,m=(0,a.useCallback)((()=>{const e=l.headerFactory().titleFactory().hitUiNavigate({destination:o});d.logInteraction(e)}),[d,l,o]),c=(0,a.useCallback)((()=>{const e=l.headerFactory().seeAllFactory().hitUiNavigate({destination:o});d.logInteraction(e)}),[d,l,o]);return e.items.length?(0,F.jsxs)("section",{className:s()(Gn,n),"aria-label":u.ag.get("search.title.tracks"),"data-testid":"search-tracks-result",children:[(0,F.jsx)("div",{className:Hn,children:e.items.length>3?(0,F.jsxs)("div",{className:Bn,children:[(0,F.jsx)("div",{className:Wn,children:(0,F.jsx)(re.D,{as:"h2",variant:"canon",children:t?(0,F.jsx)(R.Link,{to:o,className:Kn,onClick:m,children:u.ag.get("search.title.tracks")}):(0,F.jsx)("span",{className:Kn,children:u.ag.get("search.title.tracks")})})}),t&&(0,F.jsx)(Mn.SeeAll,{link:o,onClick:c})]}):(0,F.jsx)(re.D,{as:"h2",variant:"canon",className:Kn,children:u.ag.get("search.title.tracks")})}),(0,F.jsx)(y.Nh,{spec:l,children:(0,F.jsx)(X.T,{render:r})})]}):null},zn=({topRecommendations:e,query:i,className:n,onAddToHistory:a,position:t,showSeeAll:s})=>{const l=e.totalCount||0;return(0,F.jsx)(g.q,{index:t,id:"top-recommendations",className:n,total:l,title:u.ag.get("artist-page.featuring",e.artistName),seeAllUri:`spotify:app:search:${encodeURIComponent(i)}:topRecommendations`,showSeeAll:s,children:e.items.map(((e,i)=>(0,F.jsx)(f.ZP,{index:i,value:"top-recommendations",children:(0,F.jsx)(pn.h,{onClick:()=>a(e),entity:e,index:i})},e.uri)))})};var Xn=n(32674),Qn=n(92780),Yn=n(20227);const Jn="search-searchResult-topResult",ea="search-searchResult-topResultCard",ia="search-searchResult-searchResultGrid",na="EFHPppToKFxfm6SRhL6K",aa="search-searchResult-tracklistShort",ta="search-searchResult-tracklistLong",sa="FTRmZyHUkeVY_X3RawUc",la="Tx_CKMgRE8CpW5vLdpAe",da=({topResults:e,onAddToHistory:i})=>{const[n]=e.items,a=(0,Yn.s)(),t=(0,Qn.E)();return n&&(0,F.jsx)(Xn.P,{total:1,className:Jn,title:u.ag.get("search.title.top-result"),children:[(0,F.jsx)("div",{"aria-live":"polite","data-testid":"top-result-card",className:ea,children:(0,F.jsx)(f.ZP,{value:"top-result-card",children:(0,F.jsx)(pn.h,{isHero:!0,index:0,onClick:()=>i(n),entity:n,enableTrackInternalSearch:t&&a})})},"top-result-item")]})},ra=({results:e})=>{const{query:i,onAddToHistory:n,serpId:t}=w(),s=(0,se.ix)(i).toURI(),{spec:l,UBIFragment:d}=(0,y.fU)(On.r,{data:{uri:s,reason:t}}),r=e.topResults.items.length>0,o=e.tracks.items.length>0,m=e.topRecommendations.items.length>0,c=(0,a.useMemo)((()=>({topResult:l.topResultFactory(),trackList:l.trackListFactory(),shelves:l.shelvesFactory()})),[l]);return(0,F.jsx)(X.T,{className:ia,rowGap:_n.mGT,testId:"search-results",render:({columnCount:a})=>{let t,s;return r?t=a>3?aa:ta:m&&(a>5&&o?(t=na,s=sa):(t=ta,s=la)),(0,F.jsxs)(f.ZP,{value:"search-results",children:[r&&(0,F.jsx)(d,{spec:c.topResult,children:(0,F.jsx)(da,{topResults:e.topResults,onAddToHistory:n})}),o&&(0,F.jsx)(Zn,{spec:c.trackList,className:t,query:i,tracks:e.tracks,onAddToHistory:n,showSeeAll:!1}),m&&(0,F.jsx)(d,{spec:c.shelves,children:(0,F.jsx)(zn,{position:0,query:i,className:s,topRecommendations:e.topRecommendations,onAddToHistory:n,showSeeAll:!1})}),U.Pd.map(((a,t)=>(0,F.jsx)(d,{spec:c.shelves,children:(0,F.jsx)(vn,{position:t+1,category:a,title:U.Wm[a](),query:i,results:e[a],onAddToHistory:n,showSeeAll:!1})},`search-shelf-${a}`)))]})}})},oa=({results:e,hasResults:i,category:n="topResults"})=>{const a=(0,m.W6)(j.Dz),{category:t,query:s,serpId:l}=w(),d=(0,se.ix)(s).toURI(),{spec:r,UBIFragment:o}=(0,y.fU)(On.r,{data:{uri:d,reason:l}});return e?e&&!i?(0,F.jsx)(o,{spec:r.emptyResultsFactory(),children:(0,F.jsx)(ve,{})}):a&&!t?n===wn?(0,F.jsx)(Sn,{results:e}):(0,F.jsx)(Vn,{results:e,hasResults:i}):(0,F.jsx)(ra,{results:e}):null};var ma=n(15748),ca=n(32317),ua=n(60960),ka=n(12764),pa=n(12187),va=n(23764);const Na=(e,i)=>{const n=("object"==typeof e?.requestIds?e?.requestIds:void 0)?.[i],a="object"==typeof n?n:void 0;return"string"==typeof a?.["search-api"]?a?.["search-api"]:void 0},Sa=e=>Na(e,"/searchV2"),ya=e=>Na(e,"/searchV2/topResults");n(76750);var ga=n(22736),ha=n(65935);const fa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageURLAndSize"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageSource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]},xa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchImageSources"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageURLAndSize"}}]}},{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorDark"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}},{kind:"Field",name:{kind:"Name",value:"isFallback"}}]}}]}}]}}]},Fa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAlbumDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}}]}}]}}]}}]},ba={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchArtistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verified"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]}}]},ja={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"releaseDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"playedState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playPositionMilliseconds"}},{kind:"Field",name:{kind:"Name",value:"state"}}]}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]}}]}}]},Ca={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchGenreDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenreResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Genre"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},Da={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPlaylistDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PlaylistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"images"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"ownerV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"imageURLAndSize"}}]}}]}}]}}]}}]}}]}}]}}]}}]},Ia={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchPodcastDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PodcastResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"publisher"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}}]}}]}}]}}]},Ta={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchAudiobookDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publishDate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediaType"}}]}}]}}]}}]},Aa={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTrackDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}}]}}]}}]}}]},Ra={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"searchUserDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"displayName"},name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchImageSources"}}]}}]}}]}}]}}]},Ea={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchFullEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchFullEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchFullEpisodeDesktop"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastEpisode"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"podcastMetadataV2"}}]}}]}}]}}]}}]}}]}},...ha.n0.definitions,...ga.rD.definitions,...ga.rA.definitions,...ga.Zl.definitions,...ga.TS.definitions,...ha.Sz.definitions,...ha.Rr.definitions]};var Va=n(77428),wa=n(90183),Ua=n(347),Pa=n(27735),qa=n(21895);function _a(e){return e.map((e=>e.url?{url:e.url,width:Number(e.width)||56,height:Number(e.height)||56}:e))}const Oa={type:G.p.SHOW,uri:"",name:"",publisher:"",images:[],mediaType:qa.E.UNKNOWN};function La(e,i){return{items:Ma(e?.items||[],i),totalCount:e?.totalCount||0}}function Ma(e,i){return e.map((e=>Ha(e,i))).filter(wa.K)}function Ha(e,i){if("Episode"!==e.data?.__typename)return null;const n=e.data,a=n.podcastV2.data;let t=Oa;return"Podcast"===a.__typename&&(t={type:G.p.SHOW,uri:a.uri,name:a.name,publisher:a.publisher?.name||"",mediaType:(0,Pa.x7)(a.mediaType),images:_a(a.coverArt?.sources||[])}),{type:G.p.EPISODE,name:n.name,images:_a(n.coverArt?.sources||[]),uri:n.uri,duration:{milliseconds:n.duration.totalMilliseconds},isExplicit:n.contentRating?.label===K.KS.Explicit,release:(0,Pa.dR)(n.releaseDate),description:n.description||"",timeLeft:{milliseconds:n.playedState.state===K.sY.Completed?0:n.duration.totalMilliseconds-n.playedState.playPositionMilliseconds},is19PlusOnly:n.contentRating?.label===K.KS.NineteenPlus,show:t,requestId:i,color:(0,Ua.bS)(n.coverArt?.extractedColors)}}const Ba={...Oa,description:"",htmlDescription:"",coverArt:[],trailer:null,topics:[],podcastType:"UNKNOWN",showTypes:[],publisherName:"",consumptionOrder:"recent",nextBestEpisode:void 0,gatedContentAccessReason:void 0};function Wa(e,i){return e.map((e=>function(e,i){if("Episode"!==e.data?.__typename)return null;let n=Ba;"Podcast"===e.data.podcastV2.data.__typename&&(n=(0,Va.XU)(e.data.podcastV2.data));return{requestId:i,episode:(0,Va.YS)(e.data),show:n}}(e,i))).filter(wa.K)}async function Ka(e,i){const n=await e(Ea,i),a=n?.data?.searchV2?.episodes;return a?function(e,i){return{items:Wa(e?.items||[],i),totalCount:e?.totalCount||0}}(a,Sa(n?.extensions)):null}const Ga={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchDesktop"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"featured"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}}]}}]}},...Fa.definitions,...xa.definitions,...fa.definitions,...ba.definitions,...ja.definitions,...ga.rD.definitions,...ga.rA.definitions,...Ca.definitions,...Da.definitions,...Ia.definitions,...Ta.definitions,...Aa.definitions,...Ra.definitions]};function $a(e,i){return{items:Za(e?.items||[],i),totalCount:e?.totalCount||0}}function Za(e,i){return e.map((e=>za(e,i))).filter(wa.K)}function za(e,i){if("Album"!==e.data?.__typename)return null;const n=e.data;return{type:G.p.ALBUM,name:n.name,uri:n.uri,images:_a(n.coverArt?.sources||[]),artists:n.artists.items.map((e=>({type:G.p.ARTIST,name:e.profile.name,uri:e.uri}))),year:n.date?.year,requestId:i,color:(0,Ua.bS)(e.data.coverArt?.extractedColors)}}const Xa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAlbums"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Fa.definitions,...xa.definitions,...fa.definitions]};function Qa(e,i){return{items:Ya(e?.items||[],i),totalCount:e?.totalCount||0}}function Ya(e,i){return e.map((e=>Ja(e,i))).filter(wa.K)}function Ja(e,i){if("Artist"!==e.data?.__typename)return null;const n=e.data;return{type:G.p.ARTIST,name:n.profile.name,images:_a(n.visuals?.avatarImage?.sources||[]),uri:n.uri,verified:n.profile.verified||!1,requestId:i,color:(0,Ua.bS)(n.visuals.avatarImage?.extractedColors)}}const et={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ba.definitions,...xa.definitions,...fa.definitions]};function it(e,i){return{items:nt(e?.items||[],i),totalCount:e?.totalCount}}function nt(e,i){return e.map((e=>at(e,i))).filter(wa.K)}function at(e,i){if("Audiobook"!==e.data?.__typename)return null;const n=e.data;return{type:G.p.AUDIOBOOK,uri:n.uri,name:n.name,images:_a(n.coverArt?.sources||[]),authorName:n.authors?.[0]?.name??"",topics:n.topics.items||[],publishDate:n.publishDate?new Date(n.publishDate.isoString):null,requestId:i,color:(0,Ua.bS)(n.coverArt?.extractedColors)}}const tt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchAudiobooks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"audiobooks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ta.definitions,...xa.definitions,...fa.definitions]};const st={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchEpisodes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...ja.definitions,...xa.definitions,...fa.definitions,...ga.rD.definitions,...ga.rA.definitions]};function lt(e,i){return{items:dt(e?.items||[],i),totalCount:e?.totalCount||0}}function dt(e,i){return e.map((e=>rt(e,i))).filter(wa.K)}function rt(e,i){if("Genre"!==e.data?.__typename)return null;const n=e.data,a=(0,se.EC)(n.uri);return{type:G.p.GENRE,name:n.name,uri:a?n.uri:`spotify:genre:${n.uri}`,images:_a(n.image?.sources||[]),requestId:i,color:(0,Ua.bS)(n.image?.extractedColors)}}const ot={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchGenres"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ca.definitions,...xa.definitions,...fa.definitions]};const mt={type:G.p.USER,uri:"",displayName:"",username:"",images:[]};function ct(e,i){return{items:ut(e?.items||[],i),totalCount:e?.totalCount||0}}function ut(e,i){return e.map((e=>kt(e,i))).filter(wa.K)}function kt(e,i){if("Playlist"!==e.data?.__typename)return null;const n=e.data;let a=mt;if("User"===n.ownerV2?.data.__typename){const e=n.ownerV2?.data;a={type:G.p.USER,uri:e.uri||"",displayName:e.name||"",username:e.username||"",images:_a(e.avatar?.sources||[])}}return{type:G.p.PLAYLIST,uri:n.uri,name:n.name,images:_a(n.images?.items.flatMap((e=>e.sources))||[]),owner:a,requestId:i,color:(0,Ua.bS)(n.images.items[0]?.extractedColors)}}const pt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPlaylists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Da.definitions,...xa.definitions,...fa.definitions,...ga.rA.definitions]};function vt(e,i){return{items:Nt(e?.items||[],i),totalCount:e?.totalCount||0}}function Nt(e,i){return e.map((e=>St(e,i))).filter(wa.K)}function St(e,i){if("Podcast"!==e.data?.__typename)return null;const n=e.data;return{type:G.p.SHOW,uri:n.uri,name:n.name,images:_a(n.coverArt?.sources||[]),publisher:n.publisher?.name||"",topics:n.topics.items||[],requestId:i,color:(0,Ua.bS)(n.coverArt?.extractedColors)}}const yt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchPodcasts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ia.definitions,...xa.definitions,...fa.definitions]};function gt(e,i){return{items:ht(e,i),totalCount:e?.totalCount||0}}function ht(e,i){return e?.items.map((e=>ft(e,i))).filter(wa.K)||[]}function ft({item:e,matchedFields:i},n){if("Track"!==e.data?.__typename)return null;const a=e.data,t=a.albumOfTrack;return{type:G.p.TRACK,uri:a.uri,name:a.name,isPlayable:a.playability.playable,album:{type:G.p.ALBUM,uri:t?.uri||"",name:t?.name||"",images:_a(t?.coverArt?.sources||[])},artists:a.artists.items.map((e=>({type:G.p.ARTIST,name:e.profile.name,uri:e.uri}))),duration:{milliseconds:a.duration.totalMilliseconds},isExplicit:"EXPLICIT"===a.contentRating?.label,is19PlusOnly:"NINETEEN_PLUS"===a.contentRating?.label,requestId:n,isLyricsMatch:!!i?.includes(K.$C.Lyrics),color:(0,Ua.bS)(t?.coverArt?.extractedColors)}}const xt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTracks"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Aa.definitions,...xa.definitions,...fa.definitions]};function Ft(e,i){return{items:bt(e?.items||[],i),totalCount:e?.totalCount||0}}function bt(e,i){return e.map((e=>jt(e,i))).filter(wa.K)}function jt(e,i){if("User"!==e.data?.__typename)return null;const n=e.data;return{type:G.p.USER,uri:n.uri,name:n.displayName||n.username,images:_a(n.avatar?.sources??[]),requestId:i,color:(0,Ua.bS)(n.avatar?.extractedColors)}}const Ct={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchUsers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextOffset"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}},...Ra.definitions,...xa.definitions,...fa.definitions]};function Dt(e,i){const n=e?.itemsV2??[];return{totalCount:n.length,items:n.map((e=>{const{item:n}=e;switch(n?.data?.__typename){case"Album":return za(n,i);case"Artist":return Ja(n,i);case"Audiobook":return at(n,i);case"Episode":return Ha(n,i);case"Genre":return rt(n,i);case"Playlist":return kt(n,i);case"Podcast":return St(n,i);case"Track":return ft(e,i);case"User":return jt(n,i);default:return console.warn("Unable to determine the correct type for item",n),null}})).filter(wa.K)}}function It(e,i){const n=e?.featured||[];return{artistName:n.length?Tt(e):"",items:n?.map((e=>kt(e,i))).filter(wa.K)||[],totalCount:n.length||0}}function Tt(e){const i=(0,Pa.wY)(e,"itemsV2",[]);try{return(0,Pa.U2)(i.map((({item:e})=>e)).filter(Boolean),"0.data")?.profile?.name||""}catch{return""}}const At={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"searchTopResultsOnly"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"searchTerm"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchTopResultsOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"chipOrder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"typeName"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"playlists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"podcasts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"searchTopResultsOnly"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopResultsV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"matchedFields"}},{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"searchAlbumDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchArtistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchEpisodeDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchGenreDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPlaylistDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchPodcastDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchAudiobookDesktop"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"includeAudiobooks"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"searchTrackDesktop"}},{kind:"FragmentSpread",name:{kind:"Name",value:"searchUserDesktop"}}]}}]}}]}},...Fa.definitions,...xa.definitions,...fa.definitions,...ba.definitions,...ja.definitions,...ga.rD.definitions,...ga.rA.definitions,...Ca.definitions,...Da.definitions,...Ia.definitions,...Ta.definitions,...Aa.definitions,...Ra.definitions]};const Rt={items:[],totalCount:0},Et={albums:Rt,artists:Rt,episodes:Rt,genres:Rt,playlists:Rt,podcasts:Rt,audiobooks:Rt,topResults:{items:[]},tracks:Rt,users:Rt,topRecommendations:{artistName:"",items:[],totalCount:0},chipOrder:{items:[]}},Vt={albums:async function(e,i){const n=await e(Xa,i),a=n?.data?.searchV2?.albums;return a?$a(a,Sa(n?.extensions)):null},artists:async function(e,i){const n=await e(et,i),a=n?.data?.searchV2?.artists;return a?Qa(a,Sa(n?.extensions)):null},episodes:async function(e,i){const n=await e(st,i),a=n?.data?.searchV2?.episodes;return a?La(a,Sa(n?.extensions)):null},genres:async function(e,i){const n=await e(ot,i),a=n?.data?.searchV2?.genres;return a?lt(a,Sa(n?.extensions)):null},playlists:async function(e,i){const n=await e(pt,i),a=n?.data?.searchV2?.playlists;return a?ct(a,Sa(n?.extensions)):null},podcasts:async function(e,i){const n=await e(yt,i),a=n?.data?.searchV2?.podcasts;return a?vt(a,Sa(n?.extensions)):null},audiobooks:async function(e,i){const n=await e(tt,i),a=n?.data?.searchV2?.audiobooks;return a?it(a,Sa(n?.extensions)):null},tracks:async function(e,i){const n=await e(xt,i),a=n?.data?.searchV2?.tracksV2;return a?gt(a,Sa(n?.extensions)):null},users:async function(e,i){const n=await e(Ct,i),a=n?.data?.searchV2?.users;return a?Ft(a,Sa(n?.extensions)):null},topResults:async function(e,i){const n=await e(At,i),a=n?.data?.searchV2?.topResults;return a?Dt(a,ya(n?.extensions)):null}};class wt{constructor(e){this._request=e}async getSearchResults(e,i=!0,n=0,a=10,t=5){const s={searchTerm:e,offset:n,limit:a,numberOfTopResults:t,includeAudiobooks:i},l=await this._request(Ga,s),d=l?.data?.searchV2;if(!d)return Et;const r=Sa(l?.extensions),o=ya(l?.extensions);return{albums:$a(d.albums,r),artists:Qa(d.artists,r),episodes:La(d.episodes,r),genres:lt(d.genres,r),playlists:ct(d.playlists,r),podcasts:vt(d.podcasts,r),audiobooks:it(d.audiobooks??null,r),tracks:gt(d.tracksV2,r),users:Ft(d.users,r),topResults:Dt(d.topResults,o),topRecommendations:It(d.topResults,o),chipOrder:d.chipOrder}}async getSearchCategoryResults(e,i,n=!1,a=0,t=25,s=20){const l={searchTerm:e,offset:a,limit:t,numberOfTopResults:s,includeAudiobooks:n};return await Vt[i](this._request,l)||Rt}async getFullEpisodes(e,i=0,n=25){const a={searchTerm:e,offset:i,limit:n};return await Ka(this._request,a)||Rt}}var Ut=n(10435),Pt=n(99877);const qt=({results:e,hasResults:i})=>{const n=(0,k.n)(),t=(0,m.W6)(j.Dz),{isBrowser:r}=(0,l.v9)((e=>e.platform)),o=(0,l.v9)(pa.rZ),u=(0,ua.g)(),p=(0,va.s4)(),{category:v}=w(),N=((e,i,n)=>{const a=e?.chipOrder?.items??[];return Array.from(a.reduce(((a,t)=>{if(!t.typeName)return a;if(!n&&t.typeName===K.xN.TopResults)return a;const[s,l]=Z[t.typeName];return l&&s&&(i===l||e?.[s]?.items?.length)?(a.add(l),a):a}),new Set([])))})(e,v,t),S="podcasts"!==v&&"episodes"!==v,y=t?N[0]:void 0,g=(e=>{if(!e)return!1;const[i]=e.topResults.items;return Boolean(i&&i.type===G.p.TRACK)})(e);return(0,a.useEffect)((()=>{r&&e&&i&&g&&(({eventSender:e,country:i,isAnonymous:n})=>{const a={category:"internal-search-test",action:"search-results-page-visit",variant:"default",label:"dwp",os:(0,$.y)(),country:i,spt:(0,W.vQ)("sp_t")};n?e.send((0,B.k)(a)):e.send((0,H.x)(a))})({eventSender:p,country:o,isAnonymous:u})}),[o,p,i,u,r,e,g]),(0,F.jsxs)(f.ZP,{value:"search-page",children:[(0,F.jsx)(ca.w,{children:n?(0,F.jsx)(M,{searchCategories:N,selectedCategory:v??y,displayChips:S}):(0,F.jsx)(qn.M,{isSearchChipsEnabled:!0})}),!n&&(0,F.jsx)(M,{searchCategories:N,selectedCategory:v??y,displayChips:S}),(0,F.jsx)("div",{className:s()("contentSpacing",{[Pt.Z.narrowPage]:t&&e}),id:"searchPage",children:(0,F.jsx)(X.T,{className:Pt.Z.searchPageGrid,render:()=>(0,F.jsxs)(d.Z5,{children:[(0,F.jsx)(d.AW,{path:"/",element:(0,F.jsx)(J.K,{pageId:c.Wg.FIND,entityUri:"spotify:app:search",children:(0,F.jsx)(D,{})})}),(0,F.jsx)(d.AW,{path:":query",element:(0,F.jsx)(ne,{children:(0,F.jsx)(oa,{results:e,hasResults:i,category:y})})}),(0,F.jsx)(d.AW,{path:":query/:category",element:(0,F.jsx)(ie,{children:(0,F.jsx)(Pn,{results:e,hasResults:i,displayChips:S})})})]})})})]})};const _t=a.memo((function(){const e=(0,m.W6)(j.Dz),i=(0,d.s0)(),[{category:n,query:t},s]=(0,Ut.l)();(0,ka.z)("search");const[l,r]=(0,a.useState)({results:null,queryForResults:""}),c=l.results,k=function(e){return null!==e&&void 0!==Object.keys(e).find((i=>"chipOrder"!==i&&e[i].items.length>0))}(c),p=(0,a.useMemo)((()=>new wt((0,Y.PQ)(Q.b.getInstance()))),[]),{searchHistory:v,setSearchHistory:N}=(0,x.u)(),S=(0,a.useCallback)((e=>{N([e,...v])}),[v,N]),y=!(0,z.k)();(0,a.useEffect)((()=>{y&&i("/")}),[y,i]);const g=(0,a.useCallback)((async e=>{e===l.queryForResults&&k||s(e,n,!1)}),[l.queryForResults,n,k,s]);(0,a.useEffect)((()=>{(async()=>{if(!t)return;const i=e?20:5,n=await p.getSearchResults(t,!0,0,10,i);r({results:n,queryForResults:t})})()}),[t,p,e]),(0,a.useEffect)((()=>{t||r({results:null,queryForResults:""})}),[t]);const h=(0,a.useMemo)((()=>o().create().toString()),[n,l.queryForResults]),f=(0,a.useMemo)((()=>({api:p,category:n,query:l.queryForResults,onAddToHistory:S,onSearchRequest:g,serpId:h})),[p,n,S,g,l.queryForResults,h]);return(0,F.jsxs)(V,{value:f,children:[(0,F.jsx)(ma.$,{children:u.ag.get("search.page-title")}),(0,F.jsx)(qt,{results:c,hasResults:k})]})})),Ot=_t},94958:(e,i,n)=>{n.d(i,{V:()=>R,e:()=>T});var a=n(59496),t=n(90641),s=n(66527),l=n(8662),d=n(16406),r=n(22465),o=n(99727),m=n(36484),c=n(38930),u=n(50274),k=n(39535),p=n(46779),v=n(10022),N=n(60960),S=n(91404),y=n(89161),g=n(27344),h=n(21298),f=n(89662),x=n(31747),F=n(14852),b=n(16988),j=n(67053),C=n(31612),D=n(92780),I=n(4637);function T(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}const A=e=>`activation-trigger-mme-${e}`,R=a.memo((function({index:e=-1,showMetadata:i,episode:n,usePlayContextItem:R,status:E,variant:V}){const w=(0,D.E)(),U=n.playedState.playPositionMilliseconds,P=n.uri,q=(0,a.useRef)(null),[_,O]=(0,a.useState)(n.playedState.state===j.sY.Completed),L=(0,p.O1)(),M=(0,N.g)(),H=(0,x.jh)(),B=(0,v.o)(),W=(0,t.I0)(),{UBIFragment:K,spec:G,logger:$}=(0,b.fU)(s.createDesktopEpisodeBlockEventFactory,{data:{uri:P,reason:n.requestId||"",position:e}}),Z=(0,b.Wi)(G),{isActive:z,isPlaying:X,togglePlay:Q}=R({uri:P}),[Y]=(0,F.z)(1e4,(e=>e?.item?.uri===P));(0,a.useEffect)((()=>{X&&(q.current=Y)}),[X,Y]),(0,a.useEffect)((()=>{!X&&q.current&&n.duration.milliseconds<=q.current&&O(!0)}),[X,n.duration.milliseconds]);const J=(0,a.useCallback)((e=>{e||(q.current=0),O(e)}),[]),ee=T(i),ie=(0,S.s)({...n,coverArt:{sources:n.coverArt}},ee),ne=(0,a.useCallback)((()=>{if(n.episodeType===j.Wf.Episode&&w)u.y.set((()=>({triggerId:A(n.uri),triggerAction:null})));else if(M)ie();else{let e;e=X?G.playButtonFactory().hitPause({itemToBePaused:P}):z?G.playButtonFactory().hitResume({itemToBeResumed:P}):G.playButtonFactory().hitPlay({itemToBePlayed:P});const i=$.logInteraction(e);B({targetUri:P,intent:X?"pause":"play",type:"click"}),Q({loggingParams:i})}}),[z,ie,B,Q,P,X,M,n,w,$,G]),ae=(0,a.useCallback)((()=>{$.logInteraction(G.hitUiNavigate({destination:P})),B({type:"click",targetUri:P,intent:"navigate"})}),[P,B,$,G]),te=n.podcastSubscription?.isPaywalled??!1,se=n.podcastSubscription?.isUserSubscribed??!1,le=te&&!se,de=te&&M,{badges:re}=(0,C.r)({contentRating:n.contentRating?.label,isPaywalled:te}),oe=(0,a.useCallback)((()=>W((0,d.RM)(i.uri))),[i.uri,W]),me=(0,a.useCallback)((e=>{let a=e;return(le||de)&&(a=(0,I.jsx)(c.l,{enabled:!0,showUri:i.uri,children:a})),!n.playability.playable&&re.nineteen&&(a=(0,I.jsx)("div",{onClick:e=>{e.stopPropagation(),oe()},children:e})),a=(0,I.jsx)(r.D,{id:A(P),targetURI:(0,l.EC)(P),children:a}),a}),[P,le,de,i.uri,re.nineteen,n.playability.playable,oe]);return(0,I.jsx)(K,{spec:G,children:(0,I.jsx)(f.ZP,{value:"row",index:e,children:(0,I.jsx)(y._,{onShow:()=>{$.logInteraction(G.secondaryHitUiReveal())},menu:(0,I.jsx)(o.k,{uri:P,showUri:i.uri,sharingInfo:n.sharingInfo,isPlayed:_,onMarkAsPlayed:J}),children:(0,I.jsx)(m.X,{ref:Z,requestId:n.requestId,index:e,uri:P,size:H,images:n.coverArt||[],name:n.name,showName:i.name,description:n.description,isPlayable:n.playability.playable||le,fullyPlayed:_,durationMs:n.duration.milliseconds,releaseDate:n.releaseDate?.isoString||"",resumePositionMs:q.current??U,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const a=`${n.name} • ${i.name}`;L(e,[P],a,i.uri)},handlePlaybackClick:ne,handleClick:ae,isCurrentlyPlaying:z,isPaywalled:te,isUserSubscribed:se,isPlaying:X,position:X?Y:void 0,episodeSharingInfo:n.sharingInfo,onMarkAsPlayed:J,contentInformation:n.contentInformation,badges:(0,I.jsxs)(I.Fragment,{children:[re.explicit&&(0,I.jsx)(g.N,{}),re.paid&&(0,I.jsx)(k.g,{}),re.nineteen&&(0,I.jsx)(h.X,{size:16})]}),playButtonWrapper:me,onMoreButtonClick:()=>{$.logInteraction(G.moreButtonFactory().hitUiReveal())},status:E,variant:V})})})})}))},91404:(e,i,n)=>{n.d(i,{s:()=>u});var a=n(59496),t=n(10022);const s=e=>e<=64?"small":e>640?"xlarge":e>300?"large":"standard";function l(e,i){return e.filter((e=>e.label?e.label===i:e.width?s(e.width)===i:!!e.height&&s(e.height)===i))[0]}var d=n(37623);function r(e){const i=l(e,"standard"),n=l(e,"large"),a=l(e,"small"),t=l(e,"xlarge");return{image_url:i?.url,image_height:i?.height?.toString(),image_width:i?.width?.toString(),image_url_large:n?.url,image_height_large:n?.height?.toString(),image_width_large:n?.width?.toString(),image_url_small:a?.url,image_height_small:a?.height?.toString(),image_width_small:a?.width?.toString(),image_url_xlarge:t?.url,image_height_xlarge:t?.height?.toString(),image_width_xlarge:t?.width?.toString()}}var o=n(32043),m=n(16442),c=n(76946);function u(e,i){const n=(0,t.o)(),s=(0,o.g)(),{isPlaying:l,isActive:u}=(0,m.$o)(e?.uri||""),{isActive:k}=(0,m.cR)(i?.uri||"");return(0,a.useCallback)((a=>{if(!i||!e)return;const t=function(e,i){const n=(e.coverArt?.sources||[]).sort(((e,i)=>(i.width||0)-(e.width||0))),a=(0,d.Xb)(e,i),t=(0,d.Ie)(i)||a;return{uri:e.uri,title:e.name,subtitle:i.name,type:"episode",album_uri:i.uri,album_title:i.name,artist_uri:i.uri,artist_name:i.name,...r(n),media_type:"audio",isTrailer:a,anonymousPlaybackAllowed:t}}(e,i);k&&!l&&u&&!a?s.resume():k&&l&&!a?(n({type:"click",intent:"pause",targetUri:e.uri}),s.pause()):(n({type:"click",intent:"play",targetUri:e.uri}),s.play({uri:i.uri,pages:[{items:[{type:c.p.EPISODE,uri:e.uri,uid:null,metadata:t,provider:null}]}]},{referrerIdentifier:s.getReferrer(),featureIdentifier:"episode"},a))}),[u,l,k,s,n,i,e])}},7881:(e,i,n)=>{n.d(i,{$:()=>a});const a=e=>e?.linked_from?.uri||e.uri},99877:(e,i,n)=>{n.d(i,{Z:()=>a});const a={searchPageGrid:"search-recentSearches-searchPageGrid",narrowPage:"search-recentSearches-narrowPage"}}}]);
//# sourceMappingURL=xpui-routes-search.js.map